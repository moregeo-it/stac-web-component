(self["webpackChunkvue_lib_openeo"]=self["webpackChunkvue_lib_openeo"]||[]).push([[5634],{1271:(e,t,s)=>{var i=s(9651);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);var o=s(9547).A;e.exports.__inject__=function(e){o("2ea1cb78",i,e)}},1284:(e,t,s)=>{"use strict";s.d(t,{A:()=>_});var i=function(){var e=this,t=e._self._c;return t("div",{ref:"div",class:e.containerClasses,style:e.styles,attrs:{id:"block"+this.id},on:{mousedown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])?null:(t.preventDefault(),t.stopPropagation(),"button"in t&&0!==t.button?null:e.onMouseDown.apply(null,arguments))}}},[t("div",{staticClass:"blockTitle",on:{mousedown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])?null:(t.preventDefault(),t.stopPropagation(),"button"in t&&0!==t.button?null:e.emitDrag.apply(null,arguments))}}},[t("span",{staticClass:"titleText",attrs:{title:e.plainTitle}},[t("span",{directives:[{name:"show",rawName:"v-show",value:e.invalid,expression:"invalid"}],staticClass:"invalid",attrs:{title:"Process or Collection not supported!"}},[t("i",{staticClass:"fas fa-exclamation-triangle"})]),e._v(" "+e._s(e.name)+" "),e.showId?t("span",{staticClass:"blockId"},[e._v(e._s(e.id))]):e._e()]),t("div",{staticClass:"blockicon",on:{mousedown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])?null:(t.preventDefault(),t.stopPropagation(),"button"in t&&0!==t.button?null:e.focus())}}},[t("span",{directives:[{name:"show",rawName:"v-show",value:e.allowsDescription&&!e.showDescriptionField,expression:"allowsDescription && !showDescriptionField"}],staticClass:"addDescription",attrs:{title:"Add description"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.addDescription()}}},[t("i",{staticClass:"fas fa-comment-medical"})]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.allowsDuplicate,expression:"allowsDuplicate"}],staticClass:"duplicate",attrs:{title:"Duplicate"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.duplicate.apply(null,arguments)}}},[t("i",{staticClass:"fas fa-clone"})]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.allowsDelete,expression:"allowsDelete"}],staticClass:"delete",attrs:{title:"Remove (DEL)"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.remove()}}},[t("i",{staticClass:"fas fa-trash"})]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.allowsInfo,expression:"allowsInfo"}],staticClass:"info",attrs:{title:"Details"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.showInfo()}}},[t("i",{staticClass:"fas fa-info"})]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.allowsParameterChange,expression:"allowsParameterChange"}],staticClass:"settings",attrs:{title:e.isParameter?"Edit parameter":"Change parameter values"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.edit.apply(null,arguments)}}},[t("i",{staticClass:"fas fa-edit"})])])]),t("div",{staticClass:"inout"},[t("div",{staticClass:"inputs"},e._l(e.parameters,function(s,i){return t("BlockParameter",{key:i,ref:"parameters",refInFor:!0,attrs:{state:e.state,value:e.args[s.name],name:s.name,description:s.description,optional:s.optional,deprecated:s.deprecated,experimental:s.experimental,default:s.default,schema:s.schema},on:{input:t=>e.updateArgument(s.name,t),edgesChanged:function(t){return e.edgesChanged(s,t)}}})}),1),t("div",{staticClass:"outputs"},[t("BlockParameter",e._b({ref:"output",attrs:{state:e.state,label:e.outputLabel},on:{input:e.updateResult}},"BlockParameter",e.output,!1))],1)]),e.showDescriptionField?t("textarea",{ref:"descriptionField",staticClass:"editDescription",attrs:{readonly:!e.state.editable,placeholder:"Type description here..."},domProps:{value:e.description},on:{input:e.updateDescription,blur:e.updateDescription,mousedown:function(e){e.stopPropagation()}}}):e._e()])},o=[],r=function(){var e=this,t=e._self._c;return t("div",{class:e.classes},[e.output?e._e():t("div",e._g({ref:"circle",class:e.circleClasses},e.circleListeners)),t("span",e._g({staticClass:"text"},e.textListeners),[t("span",{directives:[{name:"show",rawName:"v-show",value:e.unspecified,expression:"unspecified"}],staticClass:"unspecified",attrs:{title:"Parameter is likely unsupported!"}},[t("i",{staticClass:"fas fa-exclamation-triangle"})]),t("span",{staticClass:"label"},[e._v(e._s(e.displayLabel))]),e.displayValue.length?[e._v(": ")]:e._e(),t("span",{staticClass:"value",domProps:{innerHTML:e._s(e.displayValue)}})],2),e.output?t("div",e._g({ref:"circle",class:e.circleClasses,attrs:{title:"Output of the process"}},e.circleListeners)):e._e()])},a=[],n=s(1572),l=s(4894),u=s(6189);const c={name:"BlockParameter",props:{name:{type:String,default:"output"},description:{type:String,default:""},optional:{type:Boolean,default:!1},deprecated:{type:Boolean,default:!1},experimental:{type:Boolean,default:!1},default:{},value:{},schema:{type:[Object,Array],default:null},label:{type:String},output:{type:Boolean,default:!1},state:{type:Object,required:!0}},data(){return{edges:[]}},computed:{schemas(){return this.schema instanceof n.ProcessSchema?this.schema:new n.ProcessSchema(this.schema)},hasValue(){return void 0!==this.value},textListeners(){return this.allowsArgumentChange?{click:this.openEditorForArguments}:{}},circleListeners(){var e={};return this.state.editable&&(e.mousedown=e=>{1==e.which&&(this.state.root.link(this),e.preventDefault(),e.stopPropagation())},this.output&&(e.dblclick=e=>{1==e.which&&this.$emit("input",!0)}),e.mouseover=()=>this.state.linkFrom&&this.state.root.link(this),e.mouseout=()=>this.state.linkTo&&this.state.root.unlink(this)),e},classes(){let e=[this.output?"output":"input","connector","field_"+this.name,this.hasValue||this.optional||this.output||this.getEdgeCount()>0?"hasValue":"noValue"];return this.allowsArgumentChange&&e.push("editable"),e},unspecified(){return!this.$parent.invalid&&this.state.root.hasProcesses&&this.schemas.unspecified},circleClasses(){var e=["circle"];for(var t of(this.getEdgeCount()>0&&e.push("io_active"),this.edges))t.selected?e.push("io_selected"):t.issues.length>0&&e.push("io_issues");return this.state.linkFrom!=this&&this.state.linkTo!=this||e.push("io_selected"),e},displayValue(){var e=38-this.displayLabel.length,t=null;if(this.isEditable&&!this.state.compactMode&&!u.A.isRef(this.value)){let s="undefined"!==typeof this.value?this.value:this.default;"undefined"!==typeof s&&(t=this.formatValue(s,e,!0))}return"string"===typeof t?0===t.length&&(t="<em>Empty</em>"):t="",t},displayLabel(){return this.output&&this.state.compactMode?"":"string"===typeof this.label&&(this.label.length>0||this.output)?this.label:this.name},isArrayType(){return"array"===this.schemas.nativeDataType()},isObjectType(){return"object"===this.schemas.nativeDataType()},isEditable(){return!this.output&&this.schemas.isEditable()},allowsArgumentChange(){return!this.output&&this.schemas.isEditable()},allowsMultipleInputs(){return this.isArrayType||this.isObjectType||"any"===this.schemas.nativeDataType()}},watch:{edges(){this.updateEdgeStatus(),this.$emit("edgesChanged",this.edges,this)},value:{immediate:!0,handler(){this.updateEdgeStatus()}}},methods:{updateEdgeStatus(){if(!this.output)for(var e of this.edges)e.inactive=!this.isEdgeUsed(e)},getCirclePosition(){try{var e=this.state.root.domBoundingBox(this.$refs.circle),t=this.state.root.getDimensions(),s=e.offsetLeft-t.offsetLeft+e.width/2,i=e.offsetTop-t.offsetTop+e.height/2;return[s,i]}catch(o){return console.warn(o),null}},openEditorForArguments(){this.allowsArgumentChange&&this.$parent.showArguments(this.name)},jsonSchema(){return this.schemas.toJSON()},setValue(e){"boolean"!=this.schemas.nativeDataType()||u.A.isRef(e)||(e=!!e),this.$emit("input",e)},resetValue(){if("undefined"===typeof this.default){var e;if(this.schemas.nullable())e=null;else{var t=this.schemas.nativeDataType();switch(t){case"object":e={};break;case"array":e=[];break;case"string":e="";break;case"integer":case"number":e=0;break;case"boolean":e=!1;break;default:e=void 0}}this.setValue(e)}else this.setValue(this.default)},getEdgeRef(e){return this.output?this.value:e.parameter1.value},addRefToValue(e){var t=this.getEdgeRef(e);if(t)if(this.allowsMultipleInputs)if(this.isArrayType)if(u.A.isRef(this.value))this.setValue([this.value,t]);else if(Array.isArray(this.value)&&this.value.length>0){var s=this.value;s.push(t),this.setValue(s)}else this.setValue(t);else if(this.isObjectType){var i=u.A.size(this.value);1!==this.getEdgeCount()||this.hasValue&&i?i||this.resetValue():this.setValue(t)}else this.setValue(t);else this.setValue(t)},removeRefFromValue(e){if(!this.output){var t=this.getEdgeRef(e);u.A.isRefEqual(t,this.value)?this.resetValue():(this.isArrayType||this.isObjectType)&&this.setValue(this.removeRefFromValueDeep(this.value,t))}},removeRefFromValueDeep(e,t){if(Array.isArray(e)){var s=e.length;while(--s>=0)null!==e[s]&&"object"===typeof e[s]&&(u.A.isRefEqual(t,e[s])?e.splice(s,1):e[s]=this.removeRefFromValueDeep(e[s],t))}else if(u.A.isObject(e))for(var i in e)e.hasOwnProperty(i)&&null!==e[i]&&"object"===typeof e[i]&&(u.A.isRefEqual(t,e[i])?delete e[i]:e[s]=this.removeRefFromValueDeep(e[i],t));return e},addEdge(e){this.edges.push(e),this.isEdgeUsed(e)||this.output||this.addRefToValue(e)},eraseEdge(e){for(var t in this.edges)if(this.edges[t]==e)return this.removeRefFromValue(e),this.$delete(this.edges,t),!0;return!1},isEdgeUsed(e){var t=this.getEdgeRef(e);return!!u.A.isRefEqual(t,this.value)||this.hasRefInValue(t,this.value)},hasRefInValue(e,t){if(!t||"object"!==typeof t)return!1;if(u.A.isRefEqual(e,t))return!0;for(let s in t)if(this.hasRefInValue(e,t[s]))return!0;return!1},getEdgeCount(){return this.edges.length},formatProcess(e,t){if(e instanceof l.ProcessGraph&&1===e.getNodeCount())return this.formatValue(e.getResultNode().process_id,t);var s=Object.values(e.process_graph);return 1===s.length?this.formatValue(s[0].process_id,t):"Process"},formatValue(e,t,s=!0){if("object"===typeof e)return null===e?"n/a":Array.isArray(e)?this.formatArray(e,t,s):this.formatObject(e,t,s);if("string"===typeof e){if(e.length>t){var i=u.A.htmlentities(e.substr(0,t));return s?i+'<span title="'+u.A.htmlentities(e)+'">…</span>':i}return u.A.htmlentities(e)}return"boolean"===typeof e?e?"✔️":"❌":"number"===typeof e?e.toString():u.A.htmlentities(JSON.stringify(e))},formatArray(e,t,s=!0){let i=[];for(let o in e){let r=e[o],a=this.formatValue(r,10,s),n=u.A.htmlentities_decode(this.formatValue(r,10,!1));if(n.length>t){if(0===i.length)return this.formatArraySimple(e,"List("+e.length+")");i.push(this.formatArraySimple(e,"…"));break}i.push(a),t-=n.length+2}return i.join(", ")},formatArraySimple(e,t,s=!0){if(s&&e.length<10){let s=e.map(e=>this.formatValue(e,25,!1)).join(", ");return'<span title="'+s+'">'+t+"</span>"}return t},formatObject(e,t,s=!0){return 0===Object.keys(e).length?"None":e instanceof l.ProcessGraph||u.A.isObject(e.process_graph)?this.formatProcess(e,t):u.A.isRef(e)?this.formatValue(u.A.formatRef(e),t):"undefined"!==typeof e.west&&"undefined"!==typeof e.east&&"undefined"!==typeof e.south&&"undefined"!==typeof e.north?t>=12?"Bounding Box":"BBox":u.A.detectGeoJson(e)?this.formatValue(e.type,t):s?'<span title="'+u.A.htmlentities(JSON.stringify(e))+'">Object</span>':"Object"}}},h=c;var p=s(1656);function d(e){var t=s(3202);t.__inject__&&t.__inject__(e)}var m=(0,p.A)(h,r,a,!1,d,null,null,!0);const f=m.exports;var g=s(7911);const b=10,v={name:"Block",components:{BlockParameter:f},props:{id:{type:String,required:!0},type:{type:String,required:!0},selected:{type:Boolean,default:!1},position:{type:Array,required:!0},process_id:{type:String},namespace:{type:String,default:null},description:{type:String,default:null},args:{type:Object,default:()=>({})},result:{type:Boolean,default:!1},origin:{type:String,default:null},spec:{type:Object,default:()=>null},state:{type:Object,required:!0}},data(){return{showDescriptionField:!1,drag:null}},watch:{"state.compactMode"(){this.$emit("moved",this.position)},description:{immediate:!0,handler(){this.showDescriptionField=null!==this.description}}},computed:{width(){let e=g.A.blockWidth;return this.parameters.length>0?this.state.compactMode?e.compactParams:e.normalParams:this.state.compactMode?e.compact:e.normal},styles(){return{marginLeft:Math.round(this.state.center[0]+this.position[0]*this.state.scale)+"px",marginTop:Math.round(this.state.center[1]+this.position[1]*this.state.scale)+"px",fontSize:Math.round(this.state.scale*b)+"px",width:Math.round(this.state.scale*this.width)+"px"}},plainTitle(){let e=[];return e.push(this.name),this.namespace&&e.push(`@${this.namespace}`),this.showId&&e.push(` ${this.id}`),e.join("")},name(){switch(this.type){case"process":return this.collectionId?this.collectionId:this.processId;case"parameter":return this.spec.name;default:return this.id.substr(1)}},outputLabel(){return this.result?"Result":this.isParameter?"Process Parameter":""},containerClasses(){var e=["block"];return this.collectionId?e.push("block_collection"):this.isParameter&&e.push("block_argument"),this.result&&e.push("block_result"),this.selected&&e.push("block_selected"),this.invalid&&e.push("block_invalid"),e},invalid(){if("process"!==this.type||!this.$parent.hasProcesses)return!1;if(this.namespace&&u.A.isUrl(this.namespace))return!1;if(!this.processId)return!0;if(!this.spec)return!0;if("load_collection"===this.processId&&!u.A.isRef(this.args.id)){for(let e of this.$parent.collections)if(this.args.id===e.id)return!1;return!0}return!1},processId(){if("process"===this.type){if(this.process_id)return this.process_id;if(u.A.isObject(this.spec)&&this.spec.id)return this.spec.id}return null},collectionId(){return"process"!==this.type||"load_collection"!==this.processId||u.A.isRef(this.args.id)?null:this.args.id},isParameter(){return"parameter"===this.type},allowsParameterChange(){return this.isParameter?this.state.editable&&"schema"!==this.origin&&!!this.$parent.supports("editParameter"):this.parameters.filter(e=>e.isEditable()).length>0},allowsDuplicate(){return this.state.editable&&"process"===this.type&&"schema"!==this.origin},allowsDelete(){return this.state.editable&&(!this.spec||u.A.isObject(this.spec)&&"schema"!==this.origin)},allowsInfo(){return this.collectionId?this.$parent.supports("showCollection"):this.isParameter?u.A.isObject(this.spec)&&this.$parent.supports("showParameter"):this.$parent.supports("showProcess")},allowsDescription(){return this.state.editable&&"process"===this.type},showId(){return"parameter"!==this.type},hasParametersDefined(){return Boolean(u.A.isObject(this.spec)&&Array.isArray(this.spec.parameters)&&this.spec.parameters.length>0)},parameters(){let e=[],t=[];if(this.hasParametersDefined&&(t=this.spec.parameters.map(e=>new n.ProcessParameter(e)),e=t.map(e=>e.name)),u.A.size(this.args)>0)for(var s in this.args)e.includes(s)||t.push(new n.ProcessParameter({name:s,description:""}));return t},fields(){var e={};for(var t of this.parameters)e[t.name]=t;return e.output=this.output,e},output(){var e={};u.A.isObject(this.spec)&&(this.isParameter?e=this.spec:u.A.isObject(this.spec.returns)&&(e=this.spec.returns));var t={name:"output",schema:e.schema||{},description:e.description||"",optional:!0,output:!0,value:{}};return this.isParameter?t.value.from_parameter=this.id.substr(1):t.value.from_node=this.id.substr(1),t}},mounted(){this.draggingFn=this.dragging.bind(this),document.addEventListener("mousemove",this.draggingFn),this.stopDragFn=this.stopDrag.bind(this),document.addEventListener("mouseup",this.stopDragFn),this.$emit("mounted",this)},beforeDestroy(){document.removeEventListener("mousemove",this.draggingFn),document.removeEventListener("mouseup",this.stopDragFn),this.$emit("unmounted",this)},methods:{edit(){this.isParameter?this.editParameter():this.showArguments()},duplicate(){this.$parent.$emit("duplicate",{position:this.position,process_id:this.process_id,namespace:this.namespace,arguments:this.args,description:this.description})},hasParameter(e){return this.hasParametersDefined&&!!this.spec.parameters.find(t=>t.name===e)},updateDescription(e){let t,s=e.composedPath()[0];t=s&&"string"===typeof s.value&&(s.value.length>0||"input"===e.type)?s.value:null,this.showDescriptionField=null!==t,this.description!==t&&this.$emit("update","description",t)},updatePosition(e,t=!0){e=u.A.ensurePoint(e),this.position[0]===e[0]&&this.position[1]===e[1]||this.$emit("update","position",e,t)},updateArguments(e){let t=Object.keys(this.args).filter(t=>"undefined"===typeof e[t]&&(!this.hasParametersDefined||this.hasParameter(t)));for(let s of this.parameters)"undefined"!==typeof e[s.name]&&s.optional&&"undefined"!==typeof s.default&&u.A.equals(s.default,e[s.name])&&delete e[s.name];this.$emit("update","arguments",e,t)},updateArgument(e,t){let s=u.A.deepClone(this.args);s[e]=t,this.updateArguments(s)},updateResult(e){this.hasOutputEdges()?this.state.root.$emit("error","A result node can't have outgoing edges."):e!==this.result&&this.$emit("update","result",e)},focus(){this.$parent.focus()},onMouseDown(e){this.select(!this.selected,!e.shiftKey)},select(e=!0,t=!0){this.$emit("update","selected",e,t),this.focus()},getDimensions(){let e=this.$parent.domBoundingBox(this.$refs.div);var t=this.$parent.getDimensions();return e.x=e.offsetLeft-t.offsetLeft,e.y=e.offsetTop-t.offsetTop,e},edgesChanged(e,t){e.refs=t.map(e=>e.parameter1.value)},editParameter(){this.$parent.$emit("editParameter",this.spec,"Edit Parameter: "+this.plainTitle,e=>this.$emit("update","spec",e))},showArguments(e=null){this.$parent.$emit("editArguments",this.parameters.filter(e=>e.isEditable()),this.args,this.plainTitle,this.state.editable,e,e=>this.updateArguments(e),this)},showInfo(){this.collectionId?this.$parent.$emit("showCollection",this.collectionId):this.isParameter?this.$parent.$emit("showParameter",this.spec,this.origin):this.$parent.$emit("showProcess",this.processId,this.namespace)},async addDescription(){this.select(),this.showDescriptionField=!0,await this.$nextTick(),this.$refs.descriptionField.focus()},async emitDrag(e){this.select(!0,!e.shiftKey),this.focus(),await this.$nextTick(),this.$emit("move",e)},getDragPos(e,t){return[t[0]/this.state.scale-e[0],t[1]/this.state.scale-e[1]]},startDrag(e){if(!this.selected)return;let t=this.$parent.getMousePos(e);this.drag={origin:this.position,mouse:this.getDragPos(this.position,t)}},stopDrag(){if(this.drag){var e=5/this.state.scale;(Math.abs(this.drag.origin[0]-this.position[0])>e||Math.abs(this.drag.origin[1]-this.position[1])>e)&&this.updatePosition(this.position),this.drag=null}},dragging(e){if(!this.drag)return;let t=this.$parent.getMousePos(e),s=this.getDragPos(this.drag.mouse,t);this.updatePosition(s,!1)},hasOutputEdges(){return this.$refs.output&&this.$refs.output.getEdgeCount()>0},async remove(){await this.$parent.removeBlock(this)},getBlockParameter(e){if("output"===e&&this.$refs.output)return this.$refs.output;if(Array.isArray(this.$refs.parameters)){var t=this.$refs.parameters.filter(t=>t.name===e);if(t.length>0)return t[0]}return null},isParameterScoped(e,t){let s=this.getBlockParameter(e),i=n.ProcessUtils.getCallbackParameters(s).map(e=>e.name);return i.includes(t)},hiddenParameterRef(e){if("process"!==this.type)return null;let t=e.id.substr(1);for(let s in this.args){let e=this.args[s];if(u.A.isObject(e)&&u.A.isObject(e.process_graph)){let i=l.Utils.getRefs(e,!0,!0);if(i.find(e=>e.from_parameter===t&&!this.isParameterScoped(s,e.from_parameter)))return s}}return null}}},y=v;function k(e){var t=s(8106);t.__inject__&&t.__inject__(e)}var w=(0,p.A)(y,i,o,!1,k,null,null,!0);const _=w.exports},3202:(e,t,s)=>{"use strict";s.r(t);var i=s(1271),o={};for(const r in i)"default"!==r&&(o[r]=()=>i[r]);s.d(t,o)},4553:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var i=s(1601),o=s.n(i),r=s(6314),a=s.n(r),n=a()(o());n.push([e.id,".vue-component.model-builder .block{position:absolute;border:2px solid #ccc;margin-left:0;margin-top:0;background-color:#fafafa;opacity:.8;font-size:14px;user-select:none;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-o-user-select:none;color:#000}.vue-component.model-builder .block .description{display:none;width:200px;padding:3px;border:1px solid #083776;border-radius:5px;color:#001531;background-color:#91bcf6;margin-top:15px;position:absolute;font-weight:400}.vue-component.model-builder .block .blockTitle{display:flex;padding:.3em .1em;font-weight:700;background-color:#ddd;margin-bottom:.1em;cursor:move;font-size:.9em}.vue-component.model-builder .block .blockTitle .blockId{opacity:.4;margin-left:.25em;font-weight:400}.vue-component.model-builder .block .blockTitle .namespace{font-weight:400}.vue-component.model-builder .block .blockTitle .titleText{flex-grow:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.vue-component.model-builder .block .blockTitle .blockicon{white-space:nowrap;text-align:center}.vue-component.model-builder .block .blockTitle .blockicon i.fas{min-width:1.4em;cursor:pointer;opacity:.5;margin-left:.1em}.vue-component.model-builder .block .blockTitle .blockicon i.fas:hover{opacity:1}.vue-component.model-builder .block .invalid{color:red;cursor:help}.vue-component.model-builder .block .inout{display:flex}.vue-component.model-builder .block .inputs{flex-grow:1;max-width:100%;overflow:hidden;text-overflow:ellipsis}.vue-component.model-builder .block .editDescription{padding:.3em .2em;box-sizing:border-box;font-size:.9em;line-height:1em;overflow:auto;border:0;border-top:1px dotted #ccc;background-color:#0000;width:100%;max-width:100%;height:3.7em;min-height:2.5em;resize:none}.vue-component.model-builder .block .editDescription:focus{outline:0}.vue-component.model-builder .block_collection{border:2px solid #6b8daf}.vue-component.model-builder .block_collection .blockTitle{background-color:#a3b7cc}.vue-component.model-builder .block_collection .field_id{display:none}.vue-component.model-builder .block_result{border:2px solid #888}.vue-component.model-builder .block_result .field_output .circle{background-color:#888;cursor:auto}.vue-component.model-builder .block_argument{border:2px solid #b28c6b}.vue-component.model-builder .block_argument .blockTitle{background-color:#ccb7a3}.vue-component.model-builder .block_selected{border:2px solid #0a0!important}.vue-component.model-builder .block_selected .blockTitle{background-color:#0c0!important}.vue-component.model-builder .block_invalid{border:2px solid red!important}",""]);const l=n},4949:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var i=function(){var e=this,t=e._self._c;return t("g",e._l(e.lines,function(s,i){return t("line",e._b({key:i},"line",s,!1))}),0)},o=[];class r{constructor(e,t,s,i){this.x=e,this.y=t,this.dx=s,this.dy=i}distance(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}distanceP(e){var t=this.normal();t.x=e.x,t.y=e.y;var s=this.intersection(t);return[s[0],this.distance(t.alpha(s[1]),e)]}normal(){return new r(this.x,this.y,this.dy,-this.dx)}intersection(e){var t=this.dx,s=-e.dx,i=this.dy,o=-e.dy,r=e.x-this.x,a=e.y-this.y,n=t*o-s*i;if(0==n)return null;var l=(o*r-s*a)/n,u=(-i*r+t*a)/n;return[l,u]}alpha(e){var t={};return t.x=this.x+this.dx*e,t.y=this.y+this.dy*e,t}}const a={name:"Edge",props:{id:{},parameter1:{type:Object,required:!0},parameter2:{type:Object,required:!0},selected:{type:Boolean,default:!1},inactive:{type:Boolean,default:!1},issues:{type:Array,default:()=>[]},lineWidth:{type:Number,default:3},lineColor:{type:Array,default:()=>[255,200,0,1]},state:{type:Object,required:!0}},data(){return{position1:null,position2:null}},computed:{segment(){return new r(this.position1[0],this.position1[1],this.position2[0]-this.position1[0],this.position2[1]-this.position1[1])},scaledLineWidth(){return this.lineWidth*this.state.scale},lines(){var e=(this.position1[0]+this.position2[0])/2,t=(this.position1[1]+this.position2[1])/2,s=35*Math.PI/180,i=Math.cos(s),o=Math.sin(s),r=Math.cos(-s),a=Math.sin(-s),n=Math.sqrt(Math.pow(this.position1[0]-this.position2[0],2)+Math.pow(this.position1[1]-this.position2[1],2)),l=10*this.state.scale/(n/1.5),u=(this.position1[0]-e)*l,c=(this.position1[1]-t)*l,h=this.getLineStyle(this.scaledLineWidth,this.selected,this.inactive),p=this.getLineStyle(this.scaledLineWidth/1.5,this.selected),d=this.getLine(this.position1[0],this.position1[1],this.position2[0],this.position2[1],h);return this.inactive||n/this.state.scale<25?[d]:[d,this.getLine(e,t,e+(u*i-c*o),t+(c*i+u*o),p),this.getLine(e,t,e+(u*r-c*a),t+(c*r+u*a),p)]}},watch:{"state.center"(){this.updatePositions()},"state.scale"(){this.updatePositions()},"state.moving"(){this.updatePositions()}},created(){this.updatePositions()},mounted(){this.$emit("mounted",this)},beforeDestroy(){this.$emit("unmounted",this)},methods:{updatePositions(){let e=this.parameter1.getCirclePosition(),t=this.parameter2.getCirclePosition();e&&t&&(this.position1&&this.position2&&e[0]===this.position1[0]&&e[1]===this.position1[1]&&t[0]===this.position2[0]&&t[1]===this.position2[1]||(this.position1=Object.freeze(e),this.position2=Object.freeze(t),this.$emit("position",this.position1,this.position2)))},getLineStyle(e,t=!1,s=!1){let i=2*this.state.scale,o=this.lineColor;return t?o=[0,200,0,1]:this.issues.length>0&&(o=[255,0,0,1]),{stroke:`rgba(${o.join(", ")})`,"stroke-width":e,"stroke-dasharray":s?3*i+" "+2*i:"none"}},getLine(e,t,s,i,o={}){return Object.assign({x1:e,y1:t,x2:s,y2:i},o)},collide(e,t){if(!this.segment)return!1;var s=this.segment.distanceP({x:e,y:t});return s[0]>=0&&s[0]<=1&&s[1]<this.lineWidth*this.state.scale*2&&s[0]},equals(e){return this.parameter1==e.parameter1&&this.parameter2==e.parameter2||this.parameter1==e.parameter2&&this.parameter2==e.parameter1}}},n=a;var l=s(1656),u=(0,l.A)(n,i,o,!1,null,null,null,!0);const c=u.exports},6853:(e,t,s)=>{var i=s(4553);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);var o=s(9547).A;e.exports.__inject__=function(e){o("5a8b267d",i,e)}},7911:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});const i={defaultScale:1.3,blockWidth:{compactParams:110,compact:60,normalParams:220,normal:110}}},8106:(e,t,s)=>{"use strict";s.r(t);var i=s(6853),o={};for(const r in i)"default"!==r&&(o[r]=()=>i[r]);s.d(t,o)},9651:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var i=s(1601),o=s.n(i),r=s(6314),a=s.n(r),n=a()(o());n.push([e.id,".vue-component.model-builder .block .connector{font-size:.9em;margin:.2em 0;white-space:nowrap}.vue-component.model-builder .block .connector.noValue{color:red}.vue-component.model-builder .block .connector.editable .label,.vue-component.model-builder .block .connector.editable .value{cursor:pointer}.vue-component.model-builder .block .connector span[title]{cursor:help}.vue-component.model-builder .block .connector .input{max-width:100%;overflow:hidden;text-overflow:ellipsis}.vue-component.model-builder .block .connector .output{text-align:right}.vue-component.model-builder .block .connector .unspecified{color:red;margin-right:.3em}.vue-component.model-builder .block .connector .circle{width:.8em;height:.8em;margin:0 .2em;border:1px solid #888;background-color:#0000;display:inline-block}.vue-component.model-builder .block .connector .circle.io_active{background-color:#ffc800}.vue-component.model-builder .block .connector .circle.io_selected{background-color:#00c800!important}.vue-component.model-builder .block .connector .circle.io_issues{background-color:red}.vue-component.model-builder.editable .circle{cursor:pointer}",""]);const l=n}}]);
//# sourceMappingURL=openeo.5634.min.js.map