(self["webpackChunkvue_lib_openeo"] = self["webpackChunkvue_lib_openeo"] || []).push([[1507,8214],{

/***/ 1507:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  components: {
    FederationNotice: () => __webpack_require__.e(/* import() */ 7881).then(__webpack_require__.bind(__webpack_require__, 7881)),
    FederationMissingNotice: () => __webpack_require__.e(/* import() */ 119).then(__webpack_require__.bind(__webpack_require__, 119))
  },
  props: {
    federation: {
      type: Object,
      default: () => ({})
    }
  }
});

/***/ }),

/***/ 3632:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1601);
/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6314);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.vue-component.data-table .federation-missing-notice.compact{margin-bottom:5px}.vue-component.data-table table{width:100%;border-collapse:collapse}.vue-component.data-table table td,.vue-component.data-table table th{border:1px solid #ddd;padding:.2em}.vue-component.data-table table th{text-align:left!important}.vue-component.data-table table th.sortable{cursor:pointer}.vue-component.data-table table th.sortable:hover{background-color:#eee}.vue-component.data-table table th.sort-asc:after,.vue-component.data-table table th.sortable:after{visibility:hidden;margin-left:5px;font-weight:100;content:"⇑"}.vue-component.data-table table th.sort-asc:after,.vue-component.data-table table th.sortable:hover:after{visibility:visible}.vue-component.data-table table th.sort-desc:after{visibility:visible;margin-left:5px;font-weight:100;content:"⇓"}.vue-component.data-table table th.sort-asc:hover:after,.vue-component.data-table table th.sort-desc:hover:after{visibility:visible;margin-left:5px;font-weight:100;content:"⇕"}.vue-component.data-table .filter-icon{margin-right:3px}.vue-component.data-table .no-results td{text-align:center}.vue-component.data-table .menu{margin-bottom:5px;display:flex;justify-content:space-between}.vue-component.data-table .filter{flex-grow:1;text-align:right;padding-left:1em;min-width:4em;max-width:30em}.vue-component.data-table .filter .edit{cursor:pointer}`, ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 5799:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_clonedRuleSet_22_use_0_node_modules_css_loader_dist_cjs_js_clonedRuleSet_22_use_1_node_modules_vue_vue_loader_v15_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_clonedRuleSet_22_use_2_node_modules_postcss_loader_dist_cjs_js_clonedRuleSet_22_use_3_node_modules_sass_loader_dist_cjs_js_clonedRuleSet_22_use_4_node_modules_vue_vue_loader_v15_lib_index_js_vue_loader_options_DataTable_vue_vue_type_style_index_0_id_04c586b8_prod_lang_scss_shadow__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7010);
/* harmony import */ var _node_modules_vue_style_loader_index_js_clonedRuleSet_22_use_0_node_modules_css_loader_dist_cjs_js_clonedRuleSet_22_use_1_node_modules_vue_vue_loader_v15_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_clonedRuleSet_22_use_2_node_modules_postcss_loader_dist_cjs_js_clonedRuleSet_22_use_3_node_modules_sass_loader_dist_cjs_js_clonedRuleSet_22_use_4_node_modules_vue_vue_loader_v15_lib_index_js_vue_loader_options_DataTable_vue_vue_type_style_index_0_id_04c586b8_prod_lang_scss_shadow__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_clonedRuleSet_22_use_0_node_modules_css_loader_dist_cjs_js_clonedRuleSet_22_use_1_node_modules_vue_vue_loader_v15_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_clonedRuleSet_22_use_2_node_modules_postcss_loader_dist_cjs_js_clonedRuleSet_22_use_3_node_modules_sass_loader_dist_cjs_js_clonedRuleSet_22_use_4_node_modules_vue_vue_loader_v15_lib_index_js_vue_loader_options_DataTable_vue_vue_type_style_index_0_id_04c586b8_prod_lang_scss_shadow__WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_clonedRuleSet_22_use_0_node_modules_css_loader_dist_cjs_js_clonedRuleSet_22_use_1_node_modules_vue_vue_loader_v15_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_clonedRuleSet_22_use_2_node_modules_postcss_loader_dist_cjs_js_clonedRuleSet_22_use_3_node_modules_sass_loader_dist_cjs_js_clonedRuleSet_22_use_4_node_modules_vue_vue_loader_v15_lib_index_js_vue_loader_options_DataTable_vue_vue_type_style_index_0_id_04c586b8_prod_lang_scss_shadow__WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_vue_style_loader_index_js_clonedRuleSet_22_use_0_node_modules_css_loader_dist_cjs_js_clonedRuleSet_22_use_1_node_modules_vue_vue_loader_v15_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_clonedRuleSet_22_use_2_node_modules_postcss_loader_dist_cjs_js_clonedRuleSet_22_use_3_node_modules_sass_loader_dist_cjs_js_clonedRuleSet_22_use_4_node_modules_vue_vue_loader_v15_lib_index_js_vue_loader_options_DataTable_vue_vue_type_style_index_0_id_04c586b8_prod_lang_scss_shadow__WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ 7010:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(3632);
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.id, content, '']];
if(content.locals) module.exports = content.locals;
// add CSS to Shadow Root
var add = (__webpack_require__(9547)/* ["default"] */ .A)
module.exports.__inject__ = function (shadowRoot) {
  add("0ff439e1", content, shadowRoot)
};

/***/ }),

/***/ 8214:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => (/* binding */ DataTableshadow)
});

;// ./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??ruleSet[1].rules[3]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./components/DataTable.vue?vue&type=template&id=04c586b8&shadow
var render = function render() {
  var _vm = this,
    _c = _vm._self._c;
  return _c('div', {
    staticClass: "vue-component data-table"
  }, [_c('div', {
    staticClass: "menu"
  }, [_c('div', {
    staticClass: "toolbar"
  }, [_vm._t("toolbar")], 2), _vm.hasData ? _c('div', {
    staticClass: "filter"
  }, [_c('SearchBox', {
    attrs: {
      "placeholder": _vm.searchPlaceholder,
      "compact": true
    },
    model: {
      value: _vm.filterValue,
      callback: function ($$v) {
        _vm.filterValue = $$v;
      },
      expression: "filterValue"
    }
  })], 1) : _vm._e()]), Array.isArray(_vm.missing) && _vm.missing.length > 0 ? _c('FederationMissingNotice', {
    attrs: {
      "compact": "",
      "missing": _vm.missing,
      "federation": _vm.federation
    }
  }) : _vm._e(), _vm.hasData ? _c('table', [_c('thead', [_c('tr', _vm._l(_vm.columns, function (col, id) {
    return _c('th', {
      directives: [{
        name: "show",
        rawName: "v-show",
        value: !col.hide,
        expression: "!col.hide"
      }],
      key: col.name,
      class: _vm.thClasses(id),
      attrs: {
        "width": col.width,
        "title": _vm.thTitle(id)
      },
      on: {
        "click": function ($event) {
          return _vm.enableSort(id);
        }
      }
    }, [_vm._v(_vm._s(col.name))]);
  }), 0)]), _c('tbody', [_vm._l(_vm.view, function (row, i) {
    return _c('tr', {
      key: i
    }, _vm._l(_vm.columns, function (col, id) {
      return _c('td', {
        directives: [{
          name: "show",
          rawName: "v-show",
          value: !col.hide,
          expression: "!col.hide"
        }],
        key: `${col.name}_${id}`,
        class: [id, {
          'edit': _vm.canEdit(col)
        }],
        attrs: {
          "title": _vm.canEdit(col) ? 'Double-click to change the value' : false,
          "data-value": col.stylable ? _vm.value(row, col, id) : false
        },
        on: {
          "dblclick": function ($event) {
            return _vm.onDblClick($event, row, col, id);
          }
        }
      }, [_vm._t(id, function () {
        return [_vm.showEditField(row, col, id) ? [_c('form', {
          on: {
            "submit": function ($event) {
              $event.preventDefault();
              $event.stopPropagation();
              return _vm.saveEditField($event, row, col, id);
            }
          }
        }, [_c('input', {
          ref: "editField",
          refInFor: true,
          attrs: {
            "type": "text"
          },
          domProps: {
            "value": _vm.value(row, col, id)
          },
          on: {
            "blur": function ($event) {
              return _vm.saveEditField($event, row, col, id);
            },
            "keyup": function ($event) {
              return _vm.resetEditFieldEsc($event, row, col, id);
            }
          }
        })])] : _c('span', {
          domProps: {
            "innerHTML": _vm._s(_vm.formattedValue(row, col, id))
          }
        })];
      }, {
        "row": row,
        "col": col,
        "id": id
      })], 2);
    }), 0);
  }), _vm.hasData && _vm.view.length == 0 ? _c('tr', {
    staticClass: "no-results"
  }, [_c('td', {
    attrs: {
      "colspan": _vm.columnCount
    }
  }, [_vm._v("No element matches your search criteria.")])]) : _vm._e()], 2)]) : _c('div', {
    staticClass: "no-data"
  }, [_vm._v(_vm._s(_vm.noDataMessage))]), _vm.hasMore ? _c('AsyncButton', {
    staticClass: "has-more-button",
    attrs: {
      "fa": _vm.fa,
      "icon": "fas fa-sync",
      "fn": _vm.next
    }
  }, [_vm._v("Load more...")]) : _vm._e()], 1);
};
var staticRenderFns = [];

// EXTERNAL MODULE: ./utils.js + 4 modules
var utils = __webpack_require__(9061);
// EXTERNAL MODULE: ./node_modules/@radiantearth/stac-fields/index.js
var stac_fields = __webpack_require__(4870);
// EXTERNAL MODULE: ./components/internal/FederationMixin.js
var FederationMixin = __webpack_require__(1507);
;// ./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./components/DataTable.vue?vue&type=script&lang=js&shadow



/* harmony default export */ const DataTablevue_type_script_lang_js_shadow = ({
  name: 'DataTable',
  components: {
    AsyncButton: () => __webpack_require__.e(/* import() */ 5296).then(__webpack_require__.bind(__webpack_require__, 5296)),
    SearchBox: () => __webpack_require__.e(/* import() */ 4498).then(__webpack_require__.bind(__webpack_require__, 4498))
  },
  mixins: [FederationMixin/* default */.A],
  props: {
    columns: {
      type: Object,
      default: () => ({})
    },
    data: {
      type: Array,
      default: () => []
    },
    next: {
      type: Function,
      default: null
    },
    fa: {
      // Whether to use Font Awesome icons or not
      type: Boolean,
      default: false
    },
    missing: {
      type: Array,
      default: null
    },
    ...FederationMixin/* default */.A.props
  },
  data() {
    return {
      view: [],
      filterValue: null,
      primaryKey: null,
      noDataMessage: 'No data available.',
      editField: null,
      sortState: {
        id: null,
        direction: null
      }
    };
  },
  watch: {
    data() {
      this.updateView();
    },
    filterValue() {
      this.updateView();
    },
    sortState() {
      this.updateView();
    },
    columns: {
      immediate: true,
      handler() {
        if (this.hasMore) {
          return;
        }
        for (let id in this.columns) {
          let direction = this.columns[id].sort;
          if (['asc', 'desc'].includes(direction)) {
            this.enableSort(id, direction);
            break;
          }
        }
      }
    }
  },
  computed: {
    hasMore() {
      return typeof this.next === 'function';
    },
    columnCount() {
      return Object.keys(this.columns).length;
    },
    hasData() {
      return this.data.length > 0;
    },
    hasFilter() {
      return typeof this.filterValue === 'string' && this.filterValue.length > 0 ? true : false;
    },
    searchPlaceholder() {
      return this.hasMore ? `Search through subset of loaded data...` : `Search...`;
    }
  },
  beforeCreate() {
    utils/* default */.A.enableHtmlProps(this);
  },
  created() {
    this.determinePrimaryKey();
  },
  methods: {
    canEdit(col) {
      return typeof col.edit === 'function';
    },
    showEditField(row, col, id) {
      return this.canEdit(col) && this.editField != null && this.editField[0] == row && this.editField[1] == id;
    },
    onDblClick(event, row, col, id) {
      if (!this.canEdit(col)) {
        return;
      }
      var value = this.value(row, col, id);
      if (typeof value === 'boolean') {
        var action = this.columns[id].edit;
        action(row);
      } else {
        this.editField = [row, id];
        this.$nextTick(() => this.$refs.editField[0].focus());
      }
      event.preventDefault();
      event.stopPropagation();
    },
    saveEditField(event, row, col, id) {
      if (this.editField !== null && this.canEdit(col)) {
        var action = this.columns[id].edit;
        action(row, this.$refs.editField[0].value);
        this.editField = null;
        event.preventDefault();
        event.stopPropagation();
      }
    },
    resetEditFieldEsc(event, row, col, id) {
      if (event.key == "Escape") {
        this.editField = null;
      }
    },
    determinePrimaryKey() {
      for (var col in this.columns) {
        if (this.columns[col].primaryKey) {
          this.primaryKey = col;
          break;
        }
      }
    },
    setNoData(error) {
      if (typeof error == 'string') {
        this.noDataMessage = error;
        return;
      } else if (utils/* default */.A.isObject(error)) {
        if (typeof error.data === 'object' && typeof error.config === 'object' && typeof error.headers === 'object') {
          // Axios response, handle the data only.
          error = error.data;
        }
        if (utils/* default */.A.isObject(error) && typeof error.message === 'string') {
          this.noDataMessage = error.message;
          return;
        }
      }
      console.warn(error);
      this.noDataMessage = "Sorry, an unknown error has occured.";
    },
    value(row, col, id) {
      var data;
      if (typeof row === 'object') {
        data = row[id];
      } else {
        data = row;
      }
      if (utils/* default */.A.isObject(col) && typeof col.computedValue === 'function') {
        data = col.computedValue(row, data);
      }
      return data;
    },
    formattedValue(row, col, id) {
      return this.format(this.value(row, col, id), col);
    },
    thClasses(id) {
      let col = this.columns[id];
      let classes = [id];
      if (!this.hasMore && col.sort !== false) {
        classes.push('sortable');
        if (this.sortState.id === id) {
          classes.push('sort-' + this.sortState.direction);
        }
      }
      return classes;
    },
    thTitle(id) {
      let col = this.columns[id];
      if (!this.hasMore && col.sort !== false) {
        if (this.sortState.id === id && this.sortState.direction === 'asc') {
          return "Click to sort column in descending order";
        } else {
          return "Click to sort column in ascending order";
        }
      }
      return null;
    },
    enableSort(id, direction = null) {
      if (this.hasMore || this.columns[id].sort === false) {
        return;
      }
      if (direction === null) {
        direction = this.sortState.id === id && this.sortState.direction === 'asc' ? 'desc' : 'asc';
      }
      this.sortState = {
        id,
        direction
      };
    },
    sort(data) {
      let colId = this.sortState.id;
      if (colId === null || !this.columns[colId]) {
        return data;
      }
      let col = this.columns[colId];
      if (col.sort === false) {
        return data;
      }
      return data.slice(0).sort((a, b) => {
        let fn = typeof col.sortFn === 'function' ? col.sortFn : utils/* default */.A.compareStringCaseInsensitive;
        let result = fn(a[colId], b[colId]);
        return this.sortState.direction === 'desc' ? result * -1 : result;
      });
    },
    filter(data) {
      if (!this.hasFilter) {
        return data;
      }
      var searchTerm = this.filterValue.toLowerCase();
      return data.filter(row => {
        let values = [];
        for (var key in row) {
          var col = this.columns[key];
          if (typeof col === 'undefined' || col.hasOwnProperty('filterable') && col.filterable === false) {
            continue;
          }
          var value = this.value(row, col, key);
          if (typeof value === 'number' || typeof value === 'string' || typeof value === 'boolean') {
            value = value.toString();
          } else {
            continue;
          }
          values.push(value);
        }
        return utils/* default */.A.search(searchTerm, values);
      });
    },
    clearFilter() {
      this.filterValue = '';
      this.updateView();
    },
    updateView() {
      if (!Array.isArray(this.data)) {
        this.view = [];
        return;
      }
      this.view = this.sort(this.filter(this.data));
    },
    format(value, col) {
      if (typeof col.format === 'string') {
        if (typeof stac_fields.Formatters['format' + col.format] === 'function') {
          return stac_fields.Formatters['format' + col.format](value, col);
        } else {
          console.warn(col.format + ' is an invalid formatter.');
        }
      } else if (typeof col.format === 'function') {
        return col.format.call(this, value, col);
      } else {
        return stac_fields.DataTypes.format(value);
      }
    }
  }
});
;// ./components/DataTable.vue?vue&type=script&lang=js&shadow
 /* harmony default export */ const components_DataTablevue_type_script_lang_js_shadow = (DataTablevue_type_script_lang_js_shadow); 
// EXTERNAL MODULE: ./node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(1656);
;// ./components/DataTable.vue?shadow



function injectStyles (context) {
  
  var style0 = __webpack_require__(5799)
if (style0.__inject__) style0.__inject__(context)

}

/* normalize component */

var component = (0,componentNormalizer/* default */.A)(
  components_DataTablevue_type_script_lang_js_shadow,
  render,
  staticRenderFns,
  false,
  injectStyles,
  null,
  null
  ,true
)

/* harmony default export */ const DataTableshadow = (component.exports);

/***/ })

}]);
//# sourceMappingURL=openeo.8214.js.map