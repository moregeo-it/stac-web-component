"use strict";(self["webpackChunkvue_lib_openeo"]=self["webpackChunkvue_lib_openeo"]||[]).push([[6885],{2210(t,e,i){i.d(e,{A:()=>s});const a=["application/geo+json","application/json"],s={methods:{isStacLinkType(t,e=!1){return"undefined"===typeof t.type?!e:"string"===typeof t.type&&a.includes(t.type.toLowerCase())},getStacLinkByRel(t,e,i=!1){if(Array.isArray(t))return t.find(t=>this.isStacLinkType(t,i)&&"string"===typeof t.rel&&t.rel.toLowerCase()===e.toLowerCase())},getStacLinksByRels(t,e,i=!1){return Array.isArray(t)?t.filter(t=>this.isStacLinkType(t,i)&&"string"===typeof t.rel&&e.includes(t.rel.toLowerCase())):[]}}}},5904(t,e,i){i.d(e,{A:()=>o});var a=i(6189),s=i(1572);const o={props:{mapOptions:{type:Object,default:()=>({}),validator:function(t){const e={height:"string",width:"string",basemap:"string",attribution:"string",wrapAroundAntimeridian:"boolean",scrollWheelZoom:"boolean"},i=Object.keys(e);return"object"==typeof t&&Object.keys(t).every(a=>-1!=i.indexOf(a)&&typeof t[a]==e[a])}}},data(){return{map:null}},computed:{leafletOptions(){return{height:this.mapOptions.height||"250px",width:this.mapOptions.width||"auto",basemap:this.mapOptions.basemap||"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:this.mapOptions.attribution||'Map data &copy; <a href="http://www.osm.org">OpenStreetMap</a>',noWrap:void 0===this.mapOptions.wrapAroundAntimeridian||!this.mapOptions.wrapAroundAntimeridian,scrollWheelZoom:void 0!==this.mapOptions.scrollWheelZoom&&this.mapOptions.scrollWheelZoom}}},watch:{showMap(t){t&&this.initMap()}},beforeCreate(){a.A.enableHtmlProps(this)},mounted(){this.initMap()},methods:{initLeafletPlugins(){},async initMap(){if(this.$refs.mapContainer||await this.$nextTick(),!this.$refs.mapContainer||null!==this.map||!this.showMap)return!1;let t=window.L;try{this.map={leaflet:null,instance:null,geometries:null};let n=()=>a.A.isObject(window.L)&&s.Versions.validate(window.L.version)&&s.Versions.compare(window.L.version,"1.x.x","=");if(n()||(window.L=await i.e(3481).then(i.t.bind(i,3481,23))),!n())return console.warn("Leaflet is not available"),!1;this.map.leaflet=window.L;let r=await i.e(9086).then(i.t.bind(i,9086,23));this.$root&&this.$root.$options.shadowRoot&&r.__inject__&&r.__inject__(this.$root.$options.shadowRoot);var e=this.map.leaflet.map(this.$refs.mapContainer,{scrollWheelZoom:this.leafletOptions.scrollWheelZoom});this.map.instance=e;var o=this.map.leaflet.tileLayer(this.leafletOptions.basemap,{name:"Basemap",attribution:this.leafletOptions.attribution,noWrap:this.leafletOptions.noWrap});return o.addTo(e),"function"===typeof this.addFeatures&&(this.map.geometries=this.addFeatures(),this.map.geometries&&this.map.geometries.addTo(e)),this.$refs.mapContainer.style.width=this.leafletOptions.width,this.$refs.mapContainer.style.height=this.leafletOptions.height,e.invalidateSize(!1),this.updateMapView(),"function"===typeof this.mapOptions.onAfterMapInit&&this.mapOptions.onAfterMapInit(e,this.map.geometries),window.L=t,!0}catch(n){return console.error(n),window.L=t,!1}},updateMapView(){if(this.map&&this.map.geometries){var t=this.map.geometries.getBounds(),e=this.map.instance.getBoundsZoom(t),i=Math.min(e,11);e>8?i-=3:e>5?i-=2:e>2&&i--,this.map.instance.fitBounds(t),this.map.instance.setZoom(i),this.map.instance.once("moveend zoomend",()=>this.map.instance.invalidateSize(!1))}}}}}}]);
//# sourceMappingURL=openeo.6885.min.js.map