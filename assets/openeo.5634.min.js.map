{"version":3,"file":"openeo.5634.min.js","mappings":"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","sources":["webpack://vue-lib-openeo/./components/model-builder/BlockParameter.vue?a4f3","webpack://vue-lib-openeo/./components/model-builder/Block.vue","webpack://vue-lib-openeo/./components/model-builder/BlockParameter.vue","webpack://vue-lib-openeo/components/model-builder/BlockParameter.vue","webpack://vue-lib-openeo/./components/model-builder/BlockParameter.vue?43e8","webpack://vue-lib-openeo/./components/model-builder/BlockParameter.vue?68e5","webpack://vue-lib-openeo/components/model-builder/Block.vue","webpack://vue-lib-openeo/./components/model-builder/Block.vue?71c1","webpack://vue-lib-openeo/./components/model-builder/Block.vue?c7de","webpack://vue-lib-openeo/./components/model-builder/Block.vue?4c1b","webpack://vue-lib-openeo/./components/model-builder/Edge.vue","webpack://vue-lib-openeo/./components/model-builder/segment.js","webpack://vue-lib-openeo/components/model-builder/Edge.vue","webpack://vue-lib-openeo/./components/model-builder/Edge.vue?7fdc","webpack://vue-lib-openeo/./components/model-builder/Edge.vue?a00d","webpack://vue-lib-openeo/./components/model-builder/Block.vue?26dd","webpack://vue-lib-openeo/./components/model-builder/config.js","webpack://vue-lib-openeo/./components/model-builder/BlockParameter.vue?a61d"],"sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-64.use[1]!../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-64.use[2]!../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-64.use[3]!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-64.use[4]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BlockParameter.vue?vue&type=style&index=0&id=b7329df8&prod&lang=scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to Shadow Root\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesShadow.js\").default\nmodule.exports.__inject__ = function (shadowRoot) {\n  add(\"2ea1cb78\", content, shadowRoot)\n};","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"div\",class:_vm.containerClasses,style:(_vm.styles),attrs:{\"id\":'block' + this.id},on:{\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"]))return null;$event.preventDefault();$event.stopPropagation();if('button' in $event && $event.button !== 0)return null;return _vm.onMouseDown.apply(null, arguments)}}},[_c('div',{staticClass:\"blockTitle\",on:{\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"]))return null;$event.preventDefault();$event.stopPropagation();if('button' in $event && $event.button !== 0)return null;return _vm.emitDrag.apply(null, arguments)}}},[_c('span',{staticClass:\"titleText\",attrs:{\"title\":_vm.plainTitle}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.invalid),expression:\"invalid\"}],staticClass:\"invalid\",attrs:{\"title\":\"Process or Collection not supported!\"}},[_c('i',{staticClass:\"fas fa-exclamation-triangle\"})]),_vm._v(\" \"+_vm._s(_vm.name)+\" \"),(_vm.showId)?_c('span',{staticClass:\"blockId\"},[_vm._v(_vm._s(_vm.id))]):_vm._e()]),_c('div',{staticClass:\"blockicon\",on:{\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"]))return null;$event.preventDefault();$event.stopPropagation();if('button' in $event && $event.button !== 0)return null;return _vm.focus()}}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.allowsDescription && !_vm.showDescriptionField),expression:\"allowsDescription && !showDescriptionField\"}],staticClass:\"addDescription\",attrs:{\"title\":\"Add description\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addDescription()}}},[_c('i',{staticClass:\"fas fa-comment-medical\"})]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.allowsDuplicate),expression:\"allowsDuplicate\"}],staticClass:\"duplicate\",attrs:{\"title\":\"Duplicate\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.duplicate.apply(null, arguments)}}},[_c('i',{staticClass:\"fas fa-clone\"})]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.allowsDelete),expression:\"allowsDelete\"}],staticClass:\"delete\",attrs:{\"title\":\"Remove (DEL)\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.remove()}}},[_c('i',{staticClass:\"fas fa-trash\"})]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.allowsInfo),expression:\"allowsInfo\"}],staticClass:\"info\",attrs:{\"title\":\"Details\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.showInfo()}}},[_c('i',{staticClass:\"fas fa-info\"})]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.allowsParameterChange),expression:\"allowsParameterChange\"}],staticClass:\"settings\",attrs:{\"title\":_vm.isParameter ? 'Edit parameter' : 'Change parameter values'},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.edit.apply(null, arguments)}}},[_c('i',{staticClass:\"fas fa-edit\"})])])]),_c('div',{staticClass:\"inout\"},[_c('div',{staticClass:\"inputs\"},_vm._l((_vm.parameters),function(param,i){return _c('BlockParameter',{key:i,ref:\"parameters\",refInFor:true,attrs:{\"state\":_vm.state,\"value\":_vm.args[param.name],\"name\":param.name,\"description\":param.description,\"optional\":param.optional,\"deprecated\":param.deprecated,\"experimental\":param.experimental,\"default\":param.default,\"schema\":param.schema},on:{\"input\":value => _vm.updateArgument(param.name, value),\"edgesChanged\":function($event){return _vm.edgesChanged(param, $event)}}})}),1),_c('div',{staticClass:\"outputs\"},[_c('BlockParameter',_vm._b({ref:\"output\",attrs:{\"state\":_vm.state,\"label\":_vm.outputLabel},on:{\"input\":_vm.updateResult}},'BlockParameter',_vm.output,false))],1)]),(_vm.showDescriptionField)?_c('textarea',{ref:\"descriptionField\",staticClass:\"editDescription\",attrs:{\"readonly\":!_vm.state.editable,\"placeholder\":\"Type description here...\"},domProps:{\"value\":_vm.description},on:{\"input\":_vm.updateDescription,\"blur\":_vm.updateDescription,\"mousedown\":function($event){$event.stopPropagation();}}}):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{class:_vm.classes},[(!_vm.output)?_c('div',_vm._g({ref:\"circle\",class:_vm.circleClasses},_vm.circleListeners)):_vm._e(),_c('span',_vm._g({staticClass:\"text\"},_vm.textListeners),[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.unspecified),expression:\"unspecified\"}],staticClass:\"unspecified\",attrs:{\"title\":\"Parameter is likely unsupported!\"}},[_c('i',{staticClass:\"fas fa-exclamation-triangle\"})]),_c('span',{staticClass:\"label\"},[_vm._v(_vm._s(_vm.displayLabel))]),(_vm.displayValue.length)?[_vm._v(\": \")]:_vm._e(),_c('span',{staticClass:\"value\",domProps:{\"innerHTML\":_vm._s(_vm.displayValue)}})],2),(_vm.output)?_c('div',_vm._g({ref:\"circle\",class:_vm.circleClasses,attrs:{\"title\":\"Output of the process\"}},_vm.circleListeners)):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div :class=\"classes\">\n        <div v-if=\"!output\" ref=\"circle\" :class=\"circleClasses\" v-on=\"circleListeners\"></div>\n        <span class=\"text\" v-on=\"textListeners\">\n            <span v-show=\"unspecified\" class=\"unspecified\" title=\"Parameter is likely unsupported!\">\n                <i class=\"fas fa-exclamation-triangle\"></i>\n            </span>\n            <span class=\"label\">{{ displayLabel }}</span><template v-if=\"displayValue.length\">: </template>\n            <span class=\"value\" v-html=\"displayValue\"></span>\n        </span>\n        <div v-if=\"output\" ref=\"circle\" :class=\"circleClasses\" v-on=\"circleListeners\" title=\"Output of the process\"></div>\n    </div>\n</template>\n\n<script>\nimport { ProcessSchema } from '@openeo/js-commons';\nimport { ProcessGraph } from '@openeo/js-processgraphs';\nimport Utils from '../../utils.js';\n\nexport default {\n    name: 'BlockParameter',\n    props: {\n        name: {\n            type: String,\n            default: 'output'\n        },\n        description: {\n            type: String,\n            default: ''\n        },\n        optional: {\n            type: Boolean,\n            default: false\n        },\n        deprecated: {\n            type: Boolean,\n            default: false\n        },\n        experimental: {\n            type: Boolean,\n            default: false\n        },\n        default: {},\n        value: {},\n        schema: {\n            type: [Object, Array],\n            default: null\n        },\n        label: {\n            type: String\n        },\n        output: {\n            type: Boolean,\n            default: false\n        },\n        state: {\n            type: Object,\n            required: true\n        }\n    },\n    data() {\n        return {\n            // The attached edges\n            edges: []\n        };\n    },\n    computed: {\n        schemas() {\n            if (this.schema instanceof ProcessSchema) {\n                return this.schema;\n            }\n            else {\n                return new ProcessSchema(this.schema);\n            }\n        },\n        hasValue() {\n            return (this.value !== undefined);\n        },\n        textListeners() {\n            if (this.allowsArgumentChange) {\n                return {\n                    click: this.openEditorForArguments\n                };\n            }\n            else {\n                return {};\n            }\n        },\n        circleListeners() {\n            var listeners = {};\n            if (this.state.editable) {\n                listeners.mousedown = event => {\n                    if (event.which == 1) {\n                        this.state.root.link(this);\n                        event.preventDefault();\n                        event.stopPropagation();\n                    }\n                };\n\n                if (this.output) {\n                    // Allow specifying the result node\n                    listeners.dblclick = event => {\n                        if (event.which == 1) {\n                            this.$emit('input', true);\n                        }\n                    };\n                }\n\n                // Handle focus on the I/Os\n                listeners.mouseover = () => this.state.linkFrom && this.state.root.link(this);\n                listeners.mouseout = () => this.state.linkTo && this.state.root.unlink(this);\n            }\n            return listeners;\n        },\n        classes() {\n            let classes = [\n                this.output ? 'output' : 'input',\n                'connector',\n                'field_' + this.name,\n                (this.hasValue || this.optional || this.output || this.getEdgeCount() > 0) ? 'hasValue' : 'noValue',\n            ];\n            if (this.allowsArgumentChange) {\n                classes.push(\"editable\");\n            }\n            return classes;\n        },\n        unspecified() {\n            return !this.$parent.invalid && this.state.root.hasProcesses && this.schemas.unspecified;\n        },\n        circleClasses() {\n            var classes = ['circle'];\n            if (this.getEdgeCount() > 0) {\n                classes.push('io_active');\n            }\n\n            for (var edge of this.edges) {\n                if (edge.selected) {\n                    classes.push('io_selected');\n                }\n                else if (edge.issues.length > 0) {\n                    classes.push('io_issues');\n                }\n            }\n\n            if (this.state.linkFrom == this || this.state.linkTo == this) {\n                classes.push('io_selected');\n            }\n            return classes;\n        },\n        displayValue() {\n            var maxLength = 38 - this.displayLabel.length;\n            var formattedValue = null;\n            if (this.isEditable && !this.state.compactMode && !Utils.isRef(this.value)) {\n                let value = typeof this.value !== 'undefined' ? this.value : this.default;\n                if (typeof value !== 'undefined') {\n                    formattedValue = this.formatValue(value, maxLength, true);\n                }\n            }\n\n            if (typeof formattedValue === 'string') {\n                if (formattedValue.length === 0) {\n                    formattedValue = '<em>Empty</em>';\n                }\n            }\n            else {\n                formattedValue = '';\n            }\n            return formattedValue;\n        },\n        displayLabel() {\n            if (this.output && this.state.compactMode) {\n                return '';\n            }\n            else if (typeof this.label === 'string' && (this.label.length > 0 || this.output)) {\n                return this.label;\n            }\n            else {\n                return this.name;\n            }\n        },\n        isArrayType() {\n            return this.schemas.nativeDataType() === 'array';\n        },\n        isObjectType() {\n            return this.schemas.nativeDataType() === 'object';\n        },\n        isEditable() {\n            return !this.output && this.schemas.isEditable();\n        },\n        allowsArgumentChange() {\n            return (!this.output && this.schemas.isEditable());\n        },\n        allowsMultipleInputs() {\n            // Is there any type that potentially allows multiple inputs?\n            return this.isArrayType || this.isObjectType || this.schemas.nativeDataType() === 'any';\n        },\n    },\n    watch: {\n        edges() {\n            this.updateEdgeStatus();\n            this.$emit('edgesChanged', this.edges, this);\n        },\n        value: {\n            immediate: true,\n            handler() {\n                this.updateEdgeStatus();\n            }\n        }\n    },\n    methods: {\n        updateEdgeStatus() {\n            if (!this.output) {\n                for(var edge of this.edges) {\n                    edge.inactive = !this.isEdgeUsed(edge);\n                }\n            }\n        },\n        getCirclePosition() {\n            try {\n                var dim = this.state.root.domBoundingBox(this.$refs.circle);\n                var blocksDim = this.state.root.getDimensions();\n                var x = (dim.offsetLeft - blocksDim.offsetLeft) + dim.width / 2;\n                var y = (dim.offsetTop - blocksDim.offsetTop) + dim.height / 2;\n                return [x, y];\n            } catch (error) {\n                console.warn(error);\n                return null;\n            }\n        },\n        openEditorForArguments() {\n            if (this.allowsArgumentChange) {\n                this.$parent.showArguments(this.name);\n            }\n        },\n        jsonSchema() {\n            return this.schemas.toJSON();\n        },\n        setValue(value) {\n            if (this.schemas.nativeDataType() == 'boolean' && !Utils.isRef(value)) {\n                value = !!value;\n            }\n            this.$emit('input', value);\n        },\n        resetValue() {\n            if (typeof this.default !== 'undefined') {\n                this.setValue(this.default);\n                return;\n            }\n            \n            var value;\n            if (this.schemas.nullable()) {\n                value = null;\n            }\n            else {\n                var dataType = this.schemas.nativeDataType();\n                switch(dataType) {\n                    case 'object':\n                        value = {};\n                        break;\n                    case 'array':\n                        value = [];\n                        break;\n                    case 'string':\n                        value = '';\n                        break;\n                    case 'integer':\n                    case 'number':\n                        value = 0;\n                        break;\n                    case 'boolean':\n                        value = false;\n                        break;\n                    default:\n                        value = undefined;\n                }\n            }\n            this.setValue(value);\n        },\n        getEdgeRef(edge) {\n            if (this.output) {\n                return this.value;\n            }\n            else {\n                return edge.parameter1.value;\n            }\n        },\n        addRefToValue(edge) {\n            var ref = this.getEdgeRef(edge);\n            if (!ref) {\n                return;\n            }\n            else if (!this.allowsMultipleInputs) {\n                this.setValue(ref);\n            }\n            else if (this.isArrayType) {\n                if (Utils.isRef(this.value)) {\n                    this.setValue([this.value, ref]);\n                }\n                else if (Array.isArray(this.value) && this.value.length > 0) {\n                    var value = this.value;\n                    value.push(ref);\n                    this.setValue(value);\n                }\n                else {\n                    this.setValue(ref);\n                }\n            }\n            else if (this.isObjectType) {\n                var propertyCount = Utils.size(this.value);\n                if (this.getEdgeCount() === 1 && (!this.hasValue || !propertyCount)) {\n                    this.setValue(ref);\n                }\n                else if (!propertyCount) {\n                    this.resetValue();\n                }\n                else {\n                    // Don't change value\n                }\n            }\n            else {\n                // ToDo: This is probably of data type mixed or any, how to handle?\n                this.setValue(ref);\n            }\n        },\n        removeRefFromValue(edge) {\n            if (!this.output) {\n                var ref = this.getEdgeRef(edge);\n                if (Utils.isRefEqual(ref, this.value)) {\n                    this.resetValue();\n                }\n                else if (this.isArrayType || this.isObjectType) {\n                    this.setValue(this.removeRefFromValueDeep(this.value, ref));\n                }\n            }\n        },\n        removeRefFromValueDeep(value, ref) {\n            if (Array.isArray(value)) {\n                var i = value.length;\n                while(--i >= 0) {\n                    if (value[i] === null || typeof value[i] !== 'object') {\n                        continue;\n                    }\n                    else if (Utils.isRefEqual(ref, value[i])) {\n                        value.splice(i, 1);\n                    }\n                    else {\n                        value[i] = this.removeRefFromValueDeep(value[i], ref);\n                    }\n                }\n\n            }\n            else if (Utils.isObject(value)) {\n                for(var key in value) {\n                    if (!value.hasOwnProperty(key) || value[key] === null || typeof value[key] !== 'object') {\n                        continue;\n                    }\n                    else if (Utils.isRefEqual(ref, value[key])) {\n                        delete value[key];\n                    }\n                    else {\n                        value[i] = this.removeRefFromValueDeep(value[key], ref);\n                    }\n                }\n            }\n            return value;\n        },\n        addEdge(edge) {\n            this.edges.push(edge);\n            if (!this.isEdgeUsed(edge) && !this.output) {\n                this.addRefToValue(edge);\n            }\n        },\n        eraseEdge(edge) {\n            for (var k in this.edges) {\n                if (this.edges[k] == edge) {\n                    this.removeRefFromValue(edge);\n                    this.$delete(this.edges, k);\n                    return true;\n                }\n            }\n            return false;\n        },\n        isEdgeUsed(edge) {\n            var ref = this.getEdgeRef(edge);\n            if (Utils.isRefEqual(ref, this.value)) {\n                return true;\n            }\n            return this.hasRefInValue(ref, this.value);\n        },\n        hasRefInValue(ref, value) {\n            if (!value || typeof value !== 'object') {\n                return false;\n            }\n            else if (Utils.isRefEqual(ref, value)) {\n                return true;\n            }\n            for(let key in value) {\n                if (this.hasRefInValue(ref, value[key])) {\n                    return true;\n                }\n            }\n            return false;\n        },\n        getEdgeCount() {\n            return this.edges.length;\n        },\n        formatProcess(pg, maxLength) {\n            if (pg instanceof ProcessGraph && pg.getNodeCount() === 1) {\n                return this.formatValue(pg.getResultNode().process_id, maxLength);\n            }\n            var nodes = Object.values(pg.process_graph);\n            if (nodes.length === 1) {\n                return this.formatValue(nodes[0].process_id, maxLength);\n            }\n            else {\n                return 'Process';\n            }\n        },\n        formatValue(value, maxLength, html = true) {\n            if (typeof value === 'object') {\n                if (value === null) {\n                    return 'n/a';\n                }\n                else if (Array.isArray(value)) {\n                    return this.formatArray(value, maxLength, html);\n                }\n                else {\n                    return this.formatObject(value, maxLength, html);\n                }\n            }\n            else if (typeof value === 'string') {\n                if (value.length > maxLength) {\n                    var text = Utils.htmlentities(value.substr(0, maxLength));\n                    return html ? text + '<span title=\"' + Utils.htmlentities(value) + '\">…</span>' : text;\n                }\n                else {\n                    return Utils.htmlentities(value);\n                }\n            }\n            else if (typeof value === 'boolean') {\n                return value ? '✔️' : '❌';\n            }\n            else if (typeof value === 'number') {\n                return value.toString();\n            }\n            else {\n                return Utils.htmlentities(JSON.stringify(value));\n            }\n        },\n        formatArray(values, maxLength, html = true) {\n            let parts = [];\n            for(let i in values) {\n                let value = values[i];\n                let formatted = this.formatValue(value, 10, html);\n                let unformatted = Utils.htmlentities_decode(this.formatValue(value, 10, false));\n\n                if (unformatted.length > maxLength) {\n                    if (parts.length === 0) {\n                        return this.formatArraySimple(values, 'List(' + values.length + ')');\n                    }\n                    else {\n                        parts.push(this.formatArraySimple(values, '…'));\n                        break;\n                    }\n                }\n\n                parts.push(formatted);\n                maxLength -= unformatted.length + 2;\n            }\n            \n            return parts.join(\", \");\n        },\n        formatArraySimple(values, text, html = true) {\n            if (html && values.length < 10) {\n                let title = values.map(v => this.formatValue(v, 25, false)).join(', ');\n                return '<span title=\"' + title + '\">' + text + '</span>';\n            }\n            else {\n                return text;\n            }\n        },\n        formatObject(value, maxLength, html = true) {\n            if (Object.keys(value).length === 0) {\n                return 'None';\n            }\n            else if (value instanceof ProcessGraph || Utils.isObject(value.process_graph)) {\n                return this.formatProcess(value, maxLength);\n            }\n            else if (Utils.isRef(value)) {\n                return this.formatValue(Utils.formatRef(value), maxLength);\n            }\n            else if (typeof value.west !== 'undefined' && typeof value.east !== 'undefined' && typeof value.south !== 'undefined' && typeof value.north !== 'undefined') {\n                return maxLength >= 12 ? 'Bounding Box' : 'BBox';\n            }\n            else if (Utils.detectGeoJson(value)) {\n                return this.formatValue(value.type, maxLength);\n            }\n\n            // Fallback to default\n            return html ? '<span title=\"' + Utils.htmlentities(JSON.stringify(value)) + '\">Object</span>' : 'Object';\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\">\n.vue-component.model-builder {\n    .block .connector {\n        font-size: 0.9em;\n        margin: 0.2em 0;\n        white-space: nowrap;\n        \n        &.noValue {\n            color: red;\n        }\n        &.editable .label,\n        &.editable .value {\n            cursor: pointer;\n        }\n        span[title] {\n            cursor: help;\n        }\n        .input {\n            max-width: 100%;\n            overflow: hidden;\n            text-overflow: ellipsis;\n        }\n        .output {\n            text-align: right;\n        }\n        .unspecified {\n            color: red;\n            margin-right: 0.3em;\n        }\n        .circle {\n            width: 0.8em;\n            height: 0.8em;\n            margin: 0 0.2em;\n            border: 1px solid #888;\n            background-color: transparent;\n            display: inline-block;\n\n            &.io_active {\n                background-color: #FFC800;\n            }\n            &.io_selected {\n                background-color: #00C800 !important;\n            }\n            &.io_issues {\n                background-color: #FF0000;\n            }\n        }\n    }\n\n    &.editable .circle {\n        cursor: pointer;\n    }\n}\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-82.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BlockParameter.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-82.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BlockParameter.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./BlockParameter.vue?vue&type=template&id=b7329df8\"\nimport script from \"./BlockParameter.vue?vue&type=script&lang=js\"\nexport * from \"./BlockParameter.vue?vue&type=script&lang=js\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./BlockParameter.vue?vue&type=style&index=0&id=b7329df8&prod&lang=scss\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  ,true\n)\n\nexport default component.exports","<template>\n    <div :id=\"'block' + this.id\" ref=\"div\" :class=\"containerClasses\" @mousedown.prevent.stop.left=\"onMouseDown\" :style=\"styles\">\n        <div class=\"blockTitle\" @mousedown.prevent.stop.left=\"emitDrag\">\n            <span class=\"titleText\" :title=\"plainTitle\">\n                <span v-show=\"invalid\" class=\"invalid\" title=\"Process or Collection not supported!\">\n                    <i class=\"fas fa-exclamation-triangle\"></i>\n                </span>\n                {{ name }}\n                <span v-if=\"showId\" class=\"blockId\">{{ id }}</span>\n            </span>\n            <div class=\"blockicon\" @mousedown.prevent.stop.left=\"focus()\">\n                <span v-show=\"allowsDescription && !showDescriptionField\" class=\"addDescription\" title=\"Add description\" @click.stop.prevent=\"addDescription()\">\n                    <i class=\"fas fa-comment-medical\"></i>\n                </span>\n                <span v-show=\"allowsDuplicate\" class=\"duplicate\" title=\"Duplicate\" @click.stop.prevent=\"duplicate\">\n                    <i class=\"fas fa-clone\"></i>\n                </span>\n                <span v-show=\"allowsDelete\" class=\"delete\" title=\"Remove (DEL)\" @click.stop.prevent=\"remove()\">\n                    <i class=\"fas fa-trash\"></i>\n                </span>\n                <span v-show=\"allowsInfo\" class=\"info\" title=\"Details\" @click.stop.prevent=\"showInfo()\">\n                    <i class=\"fas fa-info\"></i>\n                </span>\n                <span v-show=\"allowsParameterChange\" class=\"settings\" :title=\"isParameter ? 'Edit parameter' : 'Change parameter values'\" @click.stop.prevent=\"edit\">\n                    <i class=\"fas fa-edit\"></i>\n                </span>\n            </div>\n        </div>\n        <div class=\"inout\">\n            <div class=\"inputs\">\n                <BlockParameter v-for=\"(param, i) in parameters\" :key=\"i\" ref=\"parameters\" :state=\"state\" :value=\"args[param.name]\" @input=\"value => updateArgument(param.name, value)\" @edgesChanged=\"edgesChanged(param, $event)\" :name=\"param.name\" :description=\"param.description\" :optional=\"param.optional\" :deprecated=\"param.deprecated\" :experimental=\"param.experimental\" :default=\"param.default\" :schema=\"param.schema\" />\n            </div>\n            <div class=\"outputs\">\n                <BlockParameter ref=\"output\" :state=\"state\" :label=\"outputLabel\" v-bind=\"output\" @input=\"updateResult\" />\n            </div>\n        </div>\n        <textarea ref=\"descriptionField\" v-if=\"showDescriptionField\" :value=\"description\" :readonly=\"!state.editable\" class=\"editDescription\" placeholder=\"Type description here...\" @input=\"updateDescription\" @blur=\"updateDescription\" @mousedown.stop=\"\"></textarea>\n    </div>\n</template>\n\n<script>\nimport BlockParameter from './BlockParameter.vue';\nimport Utils from '../../utils.js';\nimport { ProcessParameter, ProcessUtils } from '@openeo/js-commons';\nimport { Utils as PgUtils } from '@openeo/js-processgraphs';\nimport Config from './config.js';\n\n/*\nEvents:\n\nEmits locally:\n- moved(x, y) - The block has been moved\n- input(value) - The value has been updated\n- move() - A block is now being moved\n- mounted(node) - The block is now part of the DOM.\n- unmounted(node) - The block not not part of the DOM anylonger.\n*/\n\nconst defaultFontSize = 10;\n\nexport default {\n    name: 'Block',\n    components: {\n        BlockParameter\n    },\n    props: {\n        id: {\n            type: String,\n            required: true\n        },\n        type: {\n            type: String,\n            required: true\n        },\n        selected: {\n            type: Boolean,\n            default: false\n        },\n        position: {\n            type: Array,\n            required: true\n        },\n        process_id: {\n            type: String\n        },\n        namespace: {\n            type: String,\n            default: null\n        },\n        description: {\n            type: String,\n            default: null\n        },\n        args: {\n            type: Object,\n            default: () => ({})\n        },\n        result: {\n            type: Boolean,\n            default: false\n        },\n        origin: {\n            type: String,\n            default: null\n        },\n        spec: {\n            type: Object,\n            default: () => null\n        },\n        state: {\n            type: Object,\n            required: true\n        }\n    },\n    data() {\n        return {\n            showDescriptionField: false,\n            drag: null // Is the user dragging ?\n        };\n    },\n    watch: {\n        'state.compactMode'() {\n            this.$emit('moved', this.position);\n        },\n        description: {\n            immediate: true,\n            handler() {\n                this.showDescriptionField = (this.description !== null);\n            }\n        }\n    },\n    computed: {\n        // Visualizations\n        width() {\n            let size = Config.blockWidth;\n            if (this.parameters.length > 0) {\n                return this.state.compactMode ? size.compactParams : size.normalParams;\n            }\n            else {\n                return this.state.compactMode ? size.compact : size.normal;\n            }\n        },\n        styles() {\n            return {\n                marginLeft: Math.round(this.state.center[0] + this.position[0] * this.state.scale) + 'px',\n                marginTop: Math.round(this.state.center[1] + this.position[1] * this.state.scale) + 'px',\n                fontSize: Math.round(this.state.scale * defaultFontSize) + 'px',\n                width: Math.round(this.state.scale * this.width) + 'px',\n            };\n        },\n        plainTitle() {\n            let parts = [];\n            parts.push(this.name);\n            if (this.namespace) {\n                parts.push(`@${this.namespace}`);\n            }\n            if (this.showId) {\n                parts.push(` ${this.id}`);\n            }\n            return parts.join('');\n        },\n        name() {\n            switch(this.type) {\n                case 'process':\n                    if (this.collectionId) {\n                        return this.collectionId;\n                    }\n                    else {\n                        return this.processId;\n                    }\n                case 'parameter':\n                    return this.spec.name;\n                default:\n                    return this.id.substr(1);\n            }\n        },\n        outputLabel() {\n            if (this.result) {\n                return \"Result\";\n            }\n            else if (this.isParameter) {\n                return \"Process Parameter\";\n            }\n            else {\n                return \"\";\n            }\n        },\n        containerClasses() {\n            var classes = ['block'];\n            if (this.collectionId) {\n                classes.push('block_collection');\n            }\n            else if (this.isParameter) {\n                classes.push('block_argument');\n            }\n            if (this.result) {\n                classes.push('block_result');\n            }\n            if (this.selected) {\n                classes.push('block_selected');\n            }\n            if (this.invalid) {\n                classes.push('block_invalid');\n            }\n\n            return classes;\n        },\n        invalid() {\n            if (this.type !== 'process' || !this.$parent.hasProcesses) {\n                // We can only check processes for validity\n                // Also, don't check for validity if no processes to validate against are given\n                return false;\n            }\n            else if (this.namespace && Utils.isUrl(this.namespace)) {\n                // If the namespace is a URL, then don't complain about a missing process\n                return false;\n            }\n            else if (!this.processId) {\n                return true;\n            }\n\n            // Check that the process exists\n            if (!this.spec) {\n                return true;\n            }\n\n            // Check that the collection exists\n            if (this.processId === 'load_collection' && !Utils.isRef(this.args.id)) {\n                for(let collection of this.$parent.collections) {\n                    if (this.args.id === collection.id) {\n                        return false;\n                    }\n                }\n                return true;\n            }\n\n            return false;\n        },\n        processId() {\n            if (this.type === 'process') {\n                if (this.process_id) {\n                    return this.process_id;\n                }\n                else if (Utils.isObject(this.spec) && this.spec.id) {\n                    return this.spec.id;\n                }\n            }\n            return null;\n        },\n        collectionId() {\n            if (this.type === 'process' && this.processId === 'load_collection' && !Utils.isRef(this.args.id)) {\n                return this.args.id;\n            }\n            return null;\n        },\n        isParameter() {\n            return this.type === 'parameter';\n        },\n        allowsParameterChange() {\n            if (this.isParameter) {\n                return this.state.editable && this.origin !== 'schema' && !!this.$parent.supports('editParameter');\n            }\n            else {\n                return this.parameters.filter(p => p.isEditable()).length > 0;\n            }\n        },\n        allowsDuplicate() {\n            return (this.state.editable && this.type === 'process' && this.origin !== 'schema');\n        },\n        allowsDelete() {\n            return (this.state.editable && (!this.spec || (Utils.isObject(this.spec) && this.origin !== 'schema')));\n        },\n        allowsInfo() {\n            if (this.collectionId) {\n                return this.$parent.supports('showCollection');\n            }\n            else if (this.isParameter) {\n                return Utils.isObject(this.spec) && this.$parent.supports('showParameter');\n            }\n            else {\n                return this.$parent.supports('showProcess');\n            }\n        },\n        allowsDescription() {\n            // ToDo: Remove type restriction and store description for parameters.\n            return (this.state.editable && this.type === 'process');\n        },\n        showId() {\n            return (this.type !== 'parameter');\n        },\n        // Parameters and related\n        hasParametersDefined() {\n            return Boolean(Utils.isObject(this.spec) && Array.isArray(this.spec.parameters) && this.spec.parameters.length > 0);\n        },\n        parameters() {\n            let names = [];\n            let parameters = [];\n            if (this.hasParametersDefined) {\n                parameters = this.spec.parameters.map(p => new ProcessParameter(p));\n                names = parameters.map(p => p.name);\n            }\n            if (Utils.size(this.args) > 0) {\n                for(var key in this.args) {\n                    if (!names.includes(key)) {\n                        parameters.push(new ProcessParameter({\n                            name: key,\n                            description: ''\n                        }));\n                    }\n                }\n            }\n            return parameters;\n        },\n        fields() {\n            var fields = {};\n            for(var p of this.parameters) {\n                fields[p.name] = p;\n            }\n            fields.output = this.output;\n            return fields;\n        },\n        output() {\n            var spec = {};\n            if (Utils.isObject(this.spec)) {\n                if (this.isParameter) {\n                    spec = this.spec;\n                }\n                else if (Utils.isObject(this.spec.returns)) {\n                    spec = this.spec.returns;\n                }\n            }\n            var output = {\n                name: \"output\",\n                schema: spec.schema || {},\n                description: spec.description || '',\n                optional: true,\n                output: true,\n                value: {}\n            };\n            if (this.isParameter) {\n                output.value.from_parameter = this.id.substr(1);\n            }\n            else {\n                output.value.from_node = this.id.substr(1);\n            }\n            return output;\n        }\n    },\n    mounted() {\n        // ToDo: Move mousemove listener for dragging to Blocks?\n        this.draggingFn = this.dragging.bind(this);\n        document.addEventListener('mousemove', this.draggingFn);\n        // ToDO: Replace with mouseleave?\n        this.stopDragFn = this.stopDrag.bind(this);\n        document.addEventListener('mouseup', this.stopDragFn);\n\n        this.$emit('mounted', this);\n    },\n    beforeDestroy() {\n        document.removeEventListener('mousemove', this.draggingFn);\n        document.removeEventListener('mouseup', this.stopDragFn);\n\n        this.$emit('unmounted', this);\n    },\n    methods: {\n        edit() {\n            if (this.isParameter) {\n                this.editParameter();\n            }\n            else {\n                this.showArguments();\n            }\n        },\n        duplicate() {\n            this.$parent.$emit('duplicate', {\n                position: this.position,\n                process_id: this.process_id,\n                namespace: this.namespace,\n                arguments: this.args,\n                description: this.description\n            });\n        },\n        hasParameter(name) {\n            return this.hasParametersDefined && !!this.spec.parameters.find(p => p.name === name);\n        },\n        updateDescription(event) {\n\t\t\tlet elem = event.composedPath()[0]; // event.target doesn't work in web components\n            let value;\n            if (elem && typeof elem.value === 'string' && (elem.value.length > 0 || event.type === 'input')) {\n                value = elem.value;\n            }\n            else {\n                value = null;\n            }\n            this.showDescriptionField = (value !== null);\n            if (this.description !== value) {\n                this.$emit('update', 'description', value);\n            }\n        },\n        updatePosition(pos, saveHistory = true) {\n            pos = Utils.ensurePoint(pos);\n            if (this.position[0] !== pos[0] || this.position[1] !== pos[1]) {\n                this.$emit('update', 'position', pos, saveHistory);\n            }\n        },\n        updateArguments(value) {\n            let removeParameters = Object.keys(this.args)\n                    .filter(key => typeof value[key] === 'undefined' && (!this.hasParametersDefined || this.hasParameter(key)));\n            // Remove default values\n            for(let p of this.parameters) {\n                if (typeof value[p.name] !== 'undefined' && p.optional && typeof p.default !== 'undefined' && Utils.equals(p.default, value[p.name]))  {\n                    delete value[p.name];\n                }\n            }\n            this.$emit('update', 'arguments', value, removeParameters);\n        },\n        updateArgument(key, value) {\n            let args = Utils.deepClone(this.args);\n            args[key] = value;\n            this.updateArguments(args);\n        },\n        updateResult(value) {\n            if (this.hasOutputEdges()) {\n                this.state.root.$emit(\"error\", \"A result node can't have outgoing edges.\");\n                return;\n            }\n            if (value !== this.result) {\n                this.$emit('update', 'result', value);\n            }\n        },\n        focus() {\n            this.$parent.focus();\n        },\n        onMouseDown(event) {\n            this.select(!this.selected, !event.shiftKey);\n        },\n        select(selected = true, unselectOthers = true) {\n            this.$emit('update', 'selected', selected, unselectOthers);\n            this.focus();\n        },\n        getDimensions() {\n            let dim = this.$parent.domBoundingBox(this.$refs.div);\n            var blocksDim = this.$parent.getDimensions();\n            dim.x = dim.offsetLeft - blocksDim.offsetLeft;\n            dim.y = dim.offsetTop - blocksDim.offsetTop;\n            return dim;\n        },\n        edgesChanged(parameter, edges) {\n            parameter.refs = edges.map(edge => edge.parameter1.value);\n        },\n        editParameter() {\n            this.$parent.$emit('editParameter', this.spec, \"Edit Parameter: \" + this.plainTitle, data => this.$emit('update', 'spec', data));\n        },\n        showArguments(parameterName = null) {\n            this.$parent.$emit('editArguments', this.parameters.filter(p => p.isEditable()), this.args, this.plainTitle, this.state.editable, parameterName, data => this.updateArguments(data), this);\n        },\n        showInfo() {\n            if(this.collectionId) {\n                this.$parent.$emit('showCollection', this.collectionId);\n            }\n            else if (this.isParameter) {\n                this.$parent.$emit('showParameter', this.spec, this.origin);\n            }\n            else {\n                this.$parent.$emit('showProcess', this.processId, this.namespace);\n            }\n        },\n        async addDescription() {\n            this.select();\n            this.showDescriptionField = true;\n            await this.$nextTick();\n            this.$refs.descriptionField.focus();\n        },\n        async emitDrag(event) {\n            this.select(true, !event.shiftKey);\n            this.focus();\n            await this.$nextTick();\n            this.$emit('move', event);\n        },\n        getDragPos(pos, mouse) {\n            return [mouse[0]/this.state.scale-pos[0], mouse[1]/this.state.scale-pos[1]];\n        },\n        startDrag(event) {\n            if (!this.selected) {\n                return;\n            }\n\n            let mousePos = this.$parent.getMousePos(event);\n            this.drag = {\n                origin: this.position,\n                mouse: this.getDragPos(this.position, mousePos)\n            };\n        },\n        stopDrag() {\n            if (!this.drag) {\n                return;\n            }\n\n            var delta = 5 / this.state.scale; // Only store History if block was moved enough\n            if (Math.abs(this.drag.origin[0] - this.position[0]) > delta || Math.abs(this.drag.origin[1] - this.position[1]) > delta) {\n                this.updatePosition(this.position);\n            }\n            this.drag = null;\n        },\n        dragging(event) {\n            if (!this.drag) {\n                return;\n            }\n            \n            let mousePos = this.$parent.getMousePos(event);\n            let drapPos = this.getDragPos(this.drag.mouse, mousePos);\n            // Don't store for each run a history step...\n            this.updatePosition(drapPos, false);\n        },\n\n        hasOutputEdges() {\n            return this.$refs.output && this.$refs.output.getEdgeCount() > 0;\n        },\n\n        async remove() {\n            await this.$parent.removeBlock(this);\n        },\n\n        /**\n         * Getting a field by name\n         */\n        getBlockParameter(name) {\n            if (name === 'output' && this.$refs.output) {\n                return this.$refs.output;\n            }\n            else if (Array.isArray(this.$refs.parameters)) {\n                var params = this.$refs.parameters.filter(param => param.name === name);\n                if (params.length > 0) {\n                    return params[0];\n                }\n            }\n            return null;\n        },\n\n        isParameterScoped(parameterName, referenceName) {\n            let parameterBlock = this.getBlockParameter(parameterName);\n            let cbParams = ProcessUtils.getCallbackParameters(parameterBlock).map(cbParam => cbParam.name);\n            return cbParams.includes(referenceName);\n        },\n\n        hiddenParameterRef(parameterBlock) {\n            if (this.type !== 'process') {\n                return null;\n            }\n            let globalParam = parameterBlock.id.substr(1);\n            for (let argName in this.args) {\n                let value = this.args[argName];\n                if (Utils.isObject(value) && Utils.isObject(value.process_graph)) {\n                    let refs = PgUtils.getRefs(value, true, true);\n                    if (refs.find(r => r.from_parameter === globalParam && !this.isParameterScoped(argName, r.from_parameter))) {\n                        return argName;\n                    }\n                }\n            }\n            return null;\n        }\n    }\n\n}\n</script>\n\n<style lang=\"scss\">\n.vue-component.model-builder {\n    .block {\n        position:absolute;\n        border:2px solid #ccc;\n        margin-left:0px;\n        margin-top:0px;\n        background-color:#fafafa;\n        opacity:0.8;\n        font-size:14px;\n        user-select:none;\n        -moz-user-select:none;\n        -khtml-user-select:none;\n        -webkit-user-select:none;\n        -o-user-select:none;\n        color: #000;\n\n        .description {\n            display:none;\n            width:200px;\n            padding:3px;\n            border:1px solid #083776;\n            border-radius:5px;\n            color:#001531;\n            background-color:#91bcf6;\n            margin-top:15px;\n            position:absolute;\n            font-weight:normal;\n        }\n\n        .blockTitle {\n            display: flex;\n            padding: 0.3em 0.1em;\n            font-weight:bold;\n            background-color:#ddd;\n            margin-bottom: 0.1em;\n            cursor: move;\n            font-size: 0.9em;\n            \n            .blockId {\n                opacity: 0.4;\n                margin-left: 0.25em;\n                font-weight: normal;\n            }\n            \n            .namespace {\n                font-weight: normal;\n            }\n\n            .titleText {\n                flex-grow: 1;\n                white-space: nowrap;\n                overflow: hidden;\n                text-overflow: ellipsis;\n            }\n            \n            .blockicon {\n                white-space: nowrap;\n                text-align: center;\n\n                i.fas {\n                    min-width: 1.4em;\n                    cursor: pointer;\n                    opacity: 0.5;\n                    margin-left: 0.1em;\n\n                    &:hover {\n                        opacity:1.0;\n                    }\n                }\n            }\n        }\n\n        .invalid {\n            color: red;\n            cursor: help;\n        }\n\n        .inout {\n            display: flex;\n        }\n\n        .inputs {\n            flex-grow: 1;\n            max-width: 100%;\n            overflow: hidden;\n            text-overflow: ellipsis;\n        }\n\n        .editDescription {\n            padding: 0.3em 0.2em;\n            box-sizing: border-box;\n            font-size: 0.9em;\n            line-height: 1em;\n            overflow: auto;\n            border: 0;\n            border-top: 1px dotted #ccc;\n            background-color: transparent;\n            width: 100%;\n            max-width: 100%;\n            height: 3.7em;\n            min-height: 2.5em;\n            resize: none;\n\n            &:focus {\n                outline: 0;\n            }\n        }\n    }\n\n    .block_collection {\n        border:2px solid #6B8DAF;\n\n        .blockTitle {\n            background-color:#A3B7CC;\n        }\n        .field_id { /* Hide collection ID as it's shown in the title */\n            display: none;\n        }\n    }\n\n    .block_result {\n        border:2px solid #888;\n\n        .field_output .circle {\n            background-color: #888;\n            cursor: auto;\n        }\n    }\n\n    .block_argument {\n        border:2px solid #B28C6B;\n\n        .blockTitle {\n            background-color:#CCB7A3;\n        }\n    }\n\n    .block_selected {\n        border:2px solid #0a0 !important; /* important is used to override the styles for block_collection and block_argument above */\n\n        .blockTitle {\n            background-color:#0c0 !important;\n        }\n    }\n\n    .block_invalid {\n        border:2px solid #ff0000 !important; /* important is used to override the styles for block_selected above */\n    }\n}\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-82.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Block.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-82.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Block.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Block.vue?vue&type=template&id=738e9c36\"\nimport script from \"./Block.vue?vue&type=script&lang=js\"\nexport * from \"./Block.vue?vue&type=script&lang=js\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./Block.vue?vue&type=style&index=0&id=738e9c36&prod&lang=scss\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  ,true\n)\n\nexport default component.exports","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.vue-component.model-builder .block{position:absolute;border:2px solid #ccc;margin-left:0;margin-top:0;background-color:#fafafa;opacity:.8;font-size:14px;user-select:none;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-o-user-select:none;color:#000}.vue-component.model-builder .block .description{display:none;width:200px;padding:3px;border:1px solid #083776;border-radius:5px;color:#001531;background-color:#91bcf6;margin-top:15px;position:absolute;font-weight:400}.vue-component.model-builder .block .blockTitle{display:flex;padding:.3em .1em;font-weight:700;background-color:#ddd;margin-bottom:.1em;cursor:move;font-size:.9em}.vue-component.model-builder .block .blockTitle .blockId{opacity:.4;margin-left:.25em;font-weight:400}.vue-component.model-builder .block .blockTitle .namespace{font-weight:400}.vue-component.model-builder .block .blockTitle .titleText{flex-grow:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.vue-component.model-builder .block .blockTitle .blockicon{white-space:nowrap;text-align:center}.vue-component.model-builder .block .blockTitle .blockicon i.fas{min-width:1.4em;cursor:pointer;opacity:.5;margin-left:.1em}.vue-component.model-builder .block .blockTitle .blockicon i.fas:hover{opacity:1}.vue-component.model-builder .block .invalid{color:red;cursor:help}.vue-component.model-builder .block .inout{display:flex}.vue-component.model-builder .block .inputs{flex-grow:1;max-width:100%;overflow:hidden;text-overflow:ellipsis}.vue-component.model-builder .block .editDescription{padding:.3em .2em;box-sizing:border-box;font-size:.9em;line-height:1em;overflow:auto;border:0;border-top:1px dotted #ccc;background-color:#0000;width:100%;max-width:100%;height:3.7em;min-height:2.5em;resize:none}.vue-component.model-builder .block .editDescription:focus{outline:0}.vue-component.model-builder .block_collection{border:2px solid #6b8daf}.vue-component.model-builder .block_collection .blockTitle{background-color:#a3b7cc}.vue-component.model-builder .block_collection .field_id{display:none}.vue-component.model-builder .block_result{border:2px solid #888}.vue-component.model-builder .block_result .field_output .circle{background-color:#888;cursor:auto}.vue-component.model-builder .block_argument{border:2px solid #b28c6b}.vue-component.model-builder .block_argument .blockTitle{background-color:#ccb7a3}.vue-component.model-builder .block_selected{border:2px solid #0a0!important}.vue-component.model-builder .block_selected .blockTitle{background-color:#0c0!important}.vue-component.model-builder .block_invalid{border:2px solid red!important}`, \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('g',_vm._l((_vm.lines),function(line,i){return _c('line',_vm._b({key:i},'line',line,false))}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default class Segment {\n\n    constructor(x, y, dx, dy) {\n        this.x = x;\n        this.y = y;\n        this.dx = dx;\n        this.dy = dy;\n    }\n\n    /**\n     * Distance\n     */\n    distance(point1, point2) {\n        return Math.sqrt(Math.pow(point2.x-point1.x,2) + Math.pow(point2.y-point1.y,2));\n    }\n\n    /**\n     * Distance with a point\n     */\n    distanceP(point) {\n        var normal = this.normal();\n        normal.x = point.x;\n        normal.y = point.y;\n        var intersection = this.intersection(normal);\n\n        return [intersection[0], this.distance(normal.alpha(intersection[1]), point)];\n    }\n\n    /**\n     * Normal\n     */\n    normal() {\n        return new Segment(this.x, this.y, this.dy, -this.dx);\n    }\n\n    /**\n     * Gets the intersection alpha with another \n     */\n    intersection(other) {\n        var a = this.dx;\n        var b = -other.dx;\n        var c = this.dy;\n        var d = -other.dy;\n        var b0 = other.x-this.x;\n        var b1 = other.y-this.y;\n        var det = a*d - b*c;\n\n        if (det == 0) {\n            return null;\n        }\n\n        var r1 = (d*b0 - b*b1)/det;\n        var r2 = (-c*b0 + a*b1)/det;\n\n        return [r1, r2];\n    }\n\n    /**\n     * Gets the alpha point\n     */\n    alpha(a) {\n        var point = {};\n        point.x = this.x+this.dx*a;\n        point.y = this.y+this.dy*a;\n\n        return point;\n    }\n\n}","<template>\n    <g>\n        <line v-for=\"(line, i) in lines\" :key=\"i\" v-bind=\"line\" />\n    </g>\n</template>\n\n<script>\nimport Segment from './segment.js';\n\nexport default {\n    name: 'Edge',\n    props: {\n        id: {},\n        parameter1: {\n            type: Object,\n            required: true\n        },\n        parameter2: {\n            type: Object,\n            required: true\n        },\n        selected: {\n            type: Boolean,\n            default: false\n        },\n        inactive: {\n            type: Boolean,\n            default: false\n        },\n        issues: {\n            type: Array,\n            default: () => ([])\n        },\n        lineWidth: {\n            type: Number,\n            default: 3\n        },\n        lineColor: {\n            type: Array,\n            default: () => ([255, 200, 0, 1])\n        },\n        state: {\n            type: Object,\n            required: true\n        }\n    },\n    data() {\n        return {\n            position1: null,\n            position2: null\n        }\n    },\n    computed: {\n        segment() {\n            return new Segment(\n                this.position1[0],\n                this.position1[1], \n                this.position2[0] - this.position1[0],\n                this.position2[1] - this.position1[1]\n            );\n        },\n        scaledLineWidth() {\n            return this.lineWidth * this.state.scale;\n        },\n        lines() {\n            // Drawing the arrow\n            var xM = ((this.position1[0]+this.position2[0])/2.0);\n            var yM = ((this.position1[1]+this.position2[1])/2.0);\n\n            var alpha = (35*Math.PI/180.0);\n            var cos = Math.cos(alpha);\n            var sin = Math.sin(alpha);\n            var cosB = Math.cos(-alpha);\n            var sinB = Math.sin(-alpha);\n\n            var norm = Math.sqrt(Math.pow(this.position1[0]-this.position2[0],2)+Math.pow(this.position1[1]-this.position2[1],2));\n            var arrowLength = this.state.scale*10/(norm/1.5);\n            var xA = (this.position1[0]-xM)*arrowLength;\n            var yA = (this.position1[1]-yM)*arrowLength;\n\n            var lineStyle = this.getLineStyle(this.scaledLineWidth, this.selected, this.inactive);\n            var arrowStyle = this.getLineStyle(this.scaledLineWidth / 1.5, this.selected);\n\n            var mainLine = this.getLine(this.position1[0], this.position1[1], this.position2[0], this.position2[1], lineStyle);\n            if (this.inactive || norm/this.state.scale < 25) {\n                // Hide arrow\n                return [mainLine];\n            }\n            else {\n                return [\n                    mainLine,\n                    this.getLine(xM, yM, xM+(xA*cos-yA*sin), yM+(yA*cos+xA*sin), arrowStyle),\n                    this.getLine(xM, yM, xM+(xA*cosB-yA*sinB), yM+(yA*cosB+xA*sinB), arrowStyle)\n                ];\n            }\n        }\n    },\n    watch: {\n        'state.center'() {\n            this.updatePositions();\n        },\n        'state.scale'() {\n            this.updatePositions();\n        },\n        'state.moving'() {\n            this.updatePositions();\n        }\n    },\n    created() {\n        this.updatePositions();\n    },\n    mounted() {\n        this.$emit('mounted', this);\n    },\n    beforeDestroy() {\n        this.$emit('unmounted', this);\n    },\n    methods: {\n        updatePositions() {\n            let pos1 = this.parameter1.getCirclePosition();\n            let pos2 = this.parameter2.getCirclePosition();\n            if (!pos1 || !pos2) {\n                return;\n            }\n            if (!this.position1 || !this.position2 || pos1[0] !== this.position1[0] || pos1[1] !== this.position1[1] || pos2[0] !== this.position2[0] || pos2[1] !== this.position2[1]) {\n                this.position1 = Object.freeze(pos1);\n                this.position2 = Object.freeze(pos2);\n                this.$emit('position', this.position1, this.position2);\n            }\n        },\n        getLineStyle(lineWidth, selected = false, dashed = false) {\n            let dashLength = 2 * this.state.scale;\n            let color = this.lineColor;\n            if (selected) {\n                color = [0, 200, 0, 1];\n            }\n            else if (this.issues.length > 0) {\n                color = [255, 0, 0, 1];\n            }\n            return {\n                'stroke': `rgba(${color.join(', ')})`,\n                'stroke-width': lineWidth,\n                'stroke-dasharray': dashed ? dashLength * 3 + ' ' + dashLength * 2 : 'none'\n            }\n        },\n        /**\n         * Get line options.\n         * \n         * @param x1 {number} The x-coordinate for the start of the line.\n         * @param y1 {number} The y-coordinate for the start of the line.\n         * @param x2 {number} The x-coordinate for the end of the line.\n         * @param y2 {number} The y-coordinate for the end of the line.\n         * @param [settings] {object} Additional settings for this node.\n         * @return {object} Options for SVG Line\n         */\n        getLine(x1, y1, x2, y2, settings = {}) {\n            return Object.assign({x1, y1, x2, y2}, settings);\n        },\n        /**\n         * Does the position collide the line ?\n         */\n        collide(x, y) {\n            if (!this.segment) {\n                return false;\n            }\n\n            var dp = this.segment.distanceP({x: x, y: y});\n\n            if (dp[0] >= 0 && dp[0] <= 1) {\n                if (dp[1] < (this.lineWidth*this.state.scale)*2) {\n                    return dp[0];\n                }\n            }\n\n            return false;\n        },\n        /**\n         * Test if this edge is the same than another\n         */\n        equals(other) {\n            if (this.parameter1 == other.parameter1 && this.parameter2 == other.parameter2) {\n                return true;\n            }\n            else if (this.parameter1 == other.parameter2 && this.parameter2 == other.parameter1) {\n                return true;\n            }\n\n            return false;\n        }\n    }\n\n}\n</script>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-82.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Edge.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-82.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Edge.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Edge.vue?vue&type=template&id=25fda632\"\nimport script from \"./Edge.vue?vue&type=script&lang=js\"\nexport * from \"./Edge.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  ,true\n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-64.use[1]!../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-64.use[2]!../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-64.use[3]!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-64.use[4]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Block.vue?vue&type=style&index=0&id=738e9c36&prod&lang=scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to Shadow Root\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesShadow.js\").default\nmodule.exports.__inject__ = function (shadowRoot) {\n  add(\"5a8b267d\", content, shadowRoot)\n};","export default {\n\tdefaultScale: 1.3,\n\tblockWidth: {\n\t\tcompactParams: 110,\n\t\tcompact: 60,\n\t\tnormalParams: 220,\n\t\tnormal: 110\n\t}\n};","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.vue-component.model-builder .block .connector{font-size:.9em;margin:.2em 0;white-space:nowrap}.vue-component.model-builder .block .connector.noValue{color:red}.vue-component.model-builder .block .connector.editable .label,.vue-component.model-builder .block .connector.editable .value{cursor:pointer}.vue-component.model-builder .block .connector span[title]{cursor:help}.vue-component.model-builder .block .connector .input{max-width:100%;overflow:hidden;text-overflow:ellipsis}.vue-component.model-builder .block .connector .output{text-align:right}.vue-component.model-builder .block .connector .unspecified{color:red;margin-right:.3em}.vue-component.model-builder .block .connector .circle{width:.8em;height:.8em;margin:0 .2em;border:1px solid #888;background-color:#0000;display:inline-block}.vue-component.model-builder .block .connector .circle.io_active{background-color:#ffc800}.vue-component.model-builder .block .connector .circle.io_selected{background-color:#00c800!important}.vue-component.model-builder .block .connector .circle.io_issues{background-color:red}.vue-component.model-builder.editable .circle{cursor:pointer}`, \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n"],"names":["content","__esModule","default","module","id","locals","exports","add","__inject__","shadowRoot","render","_vm","this","_c","_self","ref","class","containerClasses","style","styles","attrs","on","$event","type","indexOf","_k","keyCode","key","preventDefault","stopPropagation","button","onMouseDown","apply","arguments","staticClass","emitDrag","plainTitle","directives","name","rawName","value","invalid","expression","_v","_s","showId","_e","focus","allowsDescription","showDescriptionField","addDescription","allowsDuplicate","duplicate","allowsDelete","remove","allowsInfo","showInfo","allowsParameterChange","isParameter","edit","_l","parameters","param","i","refInFor","state","args","description","optional","deprecated","experimental","schema","updateArgument","edgesChanged","_b","outputLabel","updateResult","output","editable","domProps","updateDescription","staticRenderFns","classes","_g","circleClasses","circleListeners","textListeners","unspecified","displayLabel","displayValue","length","props","String","Boolean","Object","Array","label","required","data","edges","computed","schemas","ProcessSchema","hasValue","undefined","allowsArgumentChange","click","openEditorForArguments","listeners","mousedown","event","which","root","link","dblclick","$emit","mouseover","linkFrom","mouseout","linkTo","unlink","getEdgeCount","push","$parent","hasProcesses","edge","selected","issues","maxLength","formattedValue","isEditable","compactMode","Utils","isRef","formatValue","isArrayType","nativeDataType","isObjectType","allowsMultipleInputs","watch","updateEdgeStatus","immediate","handler","methods","inactive","isEdgeUsed","getCirclePosition","dim","domBoundingBox","$refs","circle","blocksDim","getDimensions","x","offsetLeft","width","y","offsetTop","height","error","console","warn","showArguments","jsonSchema","toJSON","setValue","resetValue","nullable","dataType","getEdgeRef","parameter1","addRefToValue","isArray","propertyCount","size","removeRefFromValue","isRefEqual","removeRefFromValueDeep","splice","isObject","hasOwnProperty","addEdge","eraseEdge","k","$delete","hasRefInValue","formatProcess","pg","ProcessGraph","getNodeCount","getResultNode","process_id","nodes","values","process_graph","html","formatArray","formatObject","text","htmlentities","substr","toString","JSON","stringify","parts","formatted","unformatted","htmlentities_decode","formatArraySimple","join","title","map","v","keys","formatRef","west","east","south","north","detectGeoJson","injectStyles","context","style0","component","defaultFontSize","components","BlockParameter","position","namespace","result","origin","spec","drag","Config","blockWidth","compactParams","normalParams","compact","normal","marginLeft","Math","round","center","scale","marginTop","fontSize","collectionId","processId","isUrl","collection","collections","supports","filter","p","hasParametersDefined","names","ProcessParameter","includes","fields","returns","from_parameter","from_node","mounted","draggingFn","dragging","bind","document","addEventListener","stopDragFn","stopDrag","beforeDestroy","removeEventListener","editParameter","hasParameter","find","elem","composedPath","updatePosition","pos","saveHistory","ensurePoint","updateArguments","removeParameters","equals","deepClone","hasOutputEdges","select","shiftKey","unselectOthers","div","parameter","refs","parameterName","$nextTick","descriptionField","getDragPos","mouse","startDrag","mousePos","getMousePos","delta","abs","drapPos","removeBlock","getBlockParameter","params","isParameterScoped","referenceName","parameterBlock","cbParams","ProcessUtils","getCallbackParameters","cbParam","hiddenParameterRef","globalParam","argName","PgUtils","getRefs","r","___CSS_LOADER_EXPORT___","lines","line","Segment","constructor","dx","dy","distance","point1","point2","sqrt","pow","distanceP","point","intersection","alpha","other","a","b","c","d","b0","b1","det","r1","r2","parameter2","lineWidth","Number","lineColor","position1","position2","segment","scaledLineWidth","xM","yM","PI","cos","sin","cosB","sinB","norm","arrowLength","xA","yA","lineStyle","getLineStyle","arrowStyle","mainLine","getLine","updatePositions","created","pos1","pos2","freeze","dashed","dashLength","color","x1","y1","x2","y2","settings","assign","collide","dp","defaultScale"],"ignoreList":[],"sourceRoot":""}