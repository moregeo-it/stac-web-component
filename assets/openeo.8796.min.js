(self["webpackChunkvue_lib_openeo"]=self["webpackChunkvue_lib_openeo"]||[]).push([[225,8796],{225:(t,e,a)=>{"use strict";a.d(e,{A:()=>i});const i={components:{FederationNotice:()=>a.e(1239).then(a.bind(a,1239)),FederationMissingNotice:()=>a.e(5725).then(a.bind(a,5725))},props:{federation:{type:Object,default:()=>({})}}}},2864:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>l});var i=a(1601),s=a.n(i),o=a(6314),n=a.n(o),r=n()(s());r.push([t.id,'.vue-component.data-table .federation-missing-notice.compact{margin-bottom:5px}.vue-component.data-table table{width:100%;border-collapse:collapse}.vue-component.data-table table td,.vue-component.data-table table th{border:1px solid #ddd;padding:.2em}.vue-component.data-table table th{text-align:left!important}.vue-component.data-table table th.sortable{cursor:pointer}.vue-component.data-table table th.sortable:hover{background-color:#eee}.vue-component.data-table table th.sort-asc:after,.vue-component.data-table table th.sortable:after{visibility:hidden;margin-left:5px;font-weight:100;content:"⇑"}.vue-component.data-table table th.sort-asc:after,.vue-component.data-table table th.sortable:hover:after{visibility:visible}.vue-component.data-table table th.sort-desc:after{visibility:visible;margin-left:5px;font-weight:100;content:"⇓"}.vue-component.data-table table th.sort-asc:hover:after,.vue-component.data-table table th.sort-desc:hover:after{visibility:visible;margin-left:5px;font-weight:100;content:"⇕"}.vue-component.data-table .filter-icon{margin-right:3px}.vue-component.data-table .no-results td{text-align:center}.vue-component.data-table .menu{margin-bottom:5px;display:flex;justify-content:space-between}.vue-component.data-table .filter{flex-grow:1;text-align:right;padding-left:1em;min-width:4em;max-width:30em}.vue-component.data-table .filter .edit{cursor:pointer}',""]);const l=r},4309:(t,e,a)=>{"use strict";a.r(e);var i=a(7684),s={};for(const o in i)"default"!==o&&(s[o]=()=>i[o]);a.d(e,s)},7684:(t,e,a)=>{var i=a(2864);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);var s=a(9547).A;t.exports.__inject__=function(t){s("16bd293e",i,t)}},8796:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>f});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"vue-component data-table"},[e("div",{staticClass:"menu"},[e("div",{staticClass:"toolbar"},[t._t("toolbar")],2),t.hasData?e("div",{staticClass:"filter"},[e("SearchBox",{attrs:{placeholder:t.searchPlaceholder,compact:!0},model:{value:t.filterValue,callback:function(e){t.filterValue=e},expression:"filterValue"}})],1):t._e()]),Array.isArray(t.missing)&&t.missing.length>0?e("FederationMissingNotice",{attrs:{compact:"",missing:t.missing,federation:t.federation}}):t._e(),t.hasData?e("table",[e("thead",[e("tr",t._l(t.columns,function(a,i){return e("th",{directives:[{name:"show",rawName:"v-show",value:!a.hide,expression:"!col.hide"}],key:a.name,class:t.thClasses(i),attrs:{width:a.width,title:t.thTitle(i)},on:{click:function(e){return t.enableSort(i)}}},[t._v(t._s(a.name))])}),0)]),e("tbody",[t._l(t.view,function(a,i){return e("tr",{key:i},t._l(t.columns,function(i,s){return e("td",{directives:[{name:"show",rawName:"v-show",value:!i.hide,expression:"!col.hide"}],key:`${i.name}_${s}`,class:[s,{edit:t.canEdit(i)}],attrs:{title:!!t.canEdit(i)&&"Double-click to change the value","data-value":!!i.stylable&&t.value(a,i,s)},on:{dblclick:function(e){return t.onDblClick(e,a,i,s)}}},[t._t(s,function(){return[t.showEditField(a,i,s)?[e("form",{on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.saveEditField(e,a,i,s)}}},[e("input",{ref:"editField",refInFor:!0,attrs:{type:"text"},domProps:{value:t.value(a,i,s)},on:{blur:function(e){return t.saveEditField(e,a,i,s)},keyup:function(e){return t.resetEditFieldEsc(e,a,i,s)}}})])]:e("span",{domProps:{innerHTML:t._s(t.formattedValue(a,i,s))}})]},{row:a,col:i,id:s})],2)}),0)}),t.hasData&&0==t.view.length?e("tr",{staticClass:"no-results"},[e("td",{attrs:{colspan:t.columnCount}},[t._v("No element matches your search criteria.")])]):t._e()],2)]):e("div",{staticClass:"no-data"},[t._v(t._s(t.noDataMessage))]),t.hasMore?e("AsyncButton",{staticClass:"has-more-button",attrs:{fa:t.fa,icon:"fas fa-sync",fn:t.next}},[t._v("Load more...")]):t._e()],1)},s=[],o=a(6189),n=a(4870),r=a(225);const l={name:"DataTable",components:{AsyncButton:()=>a.e(1050).then(a.bind(a,1050)),SearchBox:()=>a.e(8682).then(a.bind(a,8682))},mixins:[r.A],props:{columns:{type:Object,default:()=>({})},data:{type:Array,default:()=>[]},next:{type:Function,default:null},fa:{type:Boolean,default:!1},missing:{type:Array,default:null},...r.A.props},data(){return{view:[],filterValue:null,primaryKey:null,noDataMessage:"No data available.",editField:null,sortState:{id:null,direction:null}}},watch:{data(){this.updateView()},filterValue(){this.updateView()},sortState(){this.updateView()},columns:{immediate:!0,handler(){if(!this.hasMore)for(let t in this.columns){let e=this.columns[t].sort;if(["asc","desc"].includes(e)){this.enableSort(t,e);break}}}}},computed:{hasMore(){return"function"===typeof this.next},columnCount(){return Object.keys(this.columns).length},hasData(){return this.data.length>0},hasFilter(){return"string"===typeof this.filterValue&&this.filterValue.length>0},searchPlaceholder(){return this.hasMore?"Search through subset of loaded data...":"Search..."}},beforeCreate(){o.A.enableHtmlProps(this)},created(){this.determinePrimaryKey()},methods:{canEdit(t){return"function"===typeof t.edit},showEditField(t,e,a){return this.canEdit(e)&&null!=this.editField&&this.editField[0]==t&&this.editField[1]==a},onDblClick(t,e,a,i){if(this.canEdit(a)){var s=this.value(e,a,i);if("boolean"===typeof s){var o=this.columns[i].edit;o(e)}else this.editField=[e,i],this.$nextTick(()=>this.$refs.editField[0].focus());t.preventDefault(),t.stopPropagation()}},saveEditField(t,e,a,i){if(null!==this.editField&&this.canEdit(a)){var s=this.columns[i].edit;s(e,this.$refs.editField[0].value),this.editField=null,t.preventDefault(),t.stopPropagation()}},resetEditFieldEsc(t,e,a,i){"Escape"==t.key&&(this.editField=null)},determinePrimaryKey(){for(var t in this.columns)if(this.columns[t].primaryKey){this.primaryKey=t;break}},setNoData(t){"string"!=typeof t?o.A.isObject(t)&&("object"===typeof t.data&&"object"===typeof t.config&&"object"===typeof t.headers&&(t=t.data),o.A.isObject(t)&&"string"===typeof t.message)?this.noDataMessage=t.message:(console.warn(t),this.noDataMessage="Sorry, an unknown error has occured."):this.noDataMessage=t},value(t,e,a){var i;return i="object"===typeof t?t[a]:t,o.A.isObject(e)&&"function"===typeof e.computedValue&&(i=e.computedValue(t,i)),i},formattedValue(t,e,a){return this.format(this.value(t,e,a),e)},thClasses(t){let e=this.columns[t],a=[t];return this.hasMore||!1===e.sort||(a.push("sortable"),this.sortState.id===t&&a.push("sort-"+this.sortState.direction)),a},thTitle(t){let e=this.columns[t];return this.hasMore||!1===e.sort?null:this.sortState.id===t&&"asc"===this.sortState.direction?"Click to sort column in descending order":"Click to sort column in ascending order"},enableSort(t,e=null){this.hasMore||!1===this.columns[t].sort||(null===e&&(e=this.sortState.id===t&&"asc"===this.sortState.direction?"desc":"asc"),this.sortState={id:t,direction:e})},sort(t){let e=this.sortState.id;if(null===e||!this.columns[e])return t;let a=this.columns[e];return!1===a.sort?t:t.slice(0).sort((t,i)=>{let s="function"===typeof a.sortFn?a.sortFn:o.A.compareStringCaseInsensitive,n=s(t[e],i[e]);return"desc"===this.sortState.direction?-1*n:n})},filter(t){if(!this.hasFilter)return t;var e=this.filterValue.toLowerCase();return t.filter(t=>{let a=[];for(var i in t){var s=this.columns[i];if(!("undefined"===typeof s||s.hasOwnProperty("filterable")&&!1===s.filterable)){var n=this.value(t,s,i);"number"!==typeof n&&"string"!==typeof n&&"boolean"!==typeof n||(n=n.toString(),a.push(n))}}return o.A.search(e,a)})},clearFilter(){this.filterValue="",this.updateView()},updateView(){Array.isArray(this.data)?this.view=this.sort(this.filter(this.data)):this.view=[]},format(t,e){return"string"!==typeof e.format?"function"===typeof e.format?e.format.call(this,t,e):n.DataTypes.format(t):"function"===typeof n.Formatters["format"+e.format]?n.Formatters["format"+e.format](t,e):void console.warn(e.format+" is an invalid formatter.")}}},c=l;var d=a(1656);function u(t){var e=a(4309);e.__inject__&&e.__inject__(t)}var h=(0,d.A)(c,i,s,!1,u,null,null,!0);const f=h.exports}}]);
//# sourceMappingURL=openeo.8796.min.js.map